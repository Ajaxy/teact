{"version":3,"file":"teact.js","mappings":"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","sources":["webpack://teact/webpack/universalModuleDefinition","webpack://teact/webpack/bootstrap","webpack://teact/webpack/runtime/define property getters","webpack://teact/webpack/runtime/hasOwnProperty shorthand","webpack://teact/webpack/runtime/make namespace object","webpack://teact/./src/config.ts","webpack://teact/./src/util/schedulers.ts","webpack://teact/./src/util/debugOverlay.ts","webpack://teact/./src/util/iteratees.ts","webpack://teact/./src/util/handleError.ts","webpack://teact/./src/util/safeExec.ts","webpack://teact/./src/util/signals.ts","webpack://teact/./src/lib/fasterdom/stricterdom.ts","webpack://teact/./src/lib/fasterdom/fasterdom.ts","webpack://teact/./src/teact/teact.ts","webpack://teact/./src/util/arePropsShallowEqual.ts","webpack://teact/./src/teact/dom-events.ts","webpack://teact/./src/teact/teact-dom.ts","webpack://teact/./src/teact/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"teact\"] = factory();\n\telse\n\t\troot[\"teact\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const DEBUG = false;\nexport const DEBUG_MORE = false;\n","export function throttle(fn, ms, shouldRunFirst = true) {\n    let interval;\n    let isPending;\n    let args;\n    return (..._args) => {\n        isPending = true;\n        args = _args;\n        if (!interval) {\n            if (shouldRunFirst) {\n                isPending = false;\n                fn(...args);\n            }\n            // eslint-disable-next-line no-restricted-globals\n            interval = self.setInterval(() => {\n                if (!isPending) {\n                    // eslint-disable-next-line no-restricted-globals\n                    self.clearInterval(interval);\n                    interval = undefined;\n                    return;\n                }\n                isPending = false;\n                fn(...args);\n            }, ms);\n        }\n    };\n}\nexport function throttleWithTickEnd(fn) {\n    return throttleWith(onTickEnd, fn);\n}\nexport function throttleWith(schedulerFn, fn) {\n    let waiting = false;\n    let args;\n    return (..._args) => {\n        args = _args;\n        if (!waiting) {\n            waiting = true;\n            schedulerFn(() => {\n                waiting = false;\n                fn(...args);\n            });\n        }\n    };\n}\nexport function onIdle(cb, timeout) {\n    // eslint-disable-next-line no-restricted-globals\n    if (self.requestIdleCallback) {\n        // eslint-disable-next-line no-restricted-globals\n        self.requestIdleCallback(cb, { timeout });\n    }\n    else {\n        onTickEnd(cb);\n    }\n}\nconst FAST_RAF_TIMEOUT_FALLBACK_MS = 300;\nlet fastRafCallbacks;\nlet fastRafFallbackCallbacks;\nlet fastRafFallbackTimeout;\n// May result in an immediate execution if called from another RAF callback which was scheduled\n// (and therefore is executed) earlier than RAF callback scheduled by `fastRaf`\nexport function fastRaf(callback, withTimeoutFallback = false) {\n    if (!fastRafCallbacks) {\n        fastRafCallbacks = new Set([callback]);\n        requestAnimationFrame(() => {\n            const currentCallbacks = fastRafCallbacks;\n            fastRafCallbacks = undefined;\n            fastRafFallbackCallbacks = undefined;\n            if (fastRafFallbackTimeout) {\n                clearTimeout(fastRafFallbackTimeout);\n                fastRafFallbackTimeout = undefined;\n            }\n            currentCallbacks.forEach((cb) => cb());\n        });\n    }\n    else {\n        fastRafCallbacks.add(callback);\n    }\n    if (withTimeoutFallback) {\n        if (!fastRafFallbackCallbacks) {\n            fastRafFallbackCallbacks = new Set([callback]);\n        }\n        else {\n            fastRafFallbackCallbacks.add(callback);\n        }\n        if (!fastRafFallbackTimeout) {\n            fastRafFallbackTimeout = window.setTimeout(() => {\n                const currentTimeoutCallbacks = fastRafFallbackCallbacks;\n                if (fastRafCallbacks) {\n                    currentTimeoutCallbacks.forEach(fastRafCallbacks.delete, fastRafCallbacks);\n                }\n                fastRafFallbackCallbacks = undefined;\n                if (fastRafFallbackTimeout) {\n                    clearTimeout(fastRafFallbackTimeout);\n                    fastRafFallbackTimeout = undefined;\n                }\n                currentTimeoutCallbacks.forEach((cb) => cb());\n            }, FAST_RAF_TIMEOUT_FALLBACK_MS);\n        }\n    }\n}\nlet onTickEndCallbacks;\nexport function onTickEnd(callback) {\n    if (!onTickEndCallbacks) {\n        onTickEndCallbacks = [callback];\n        Promise.resolve().then(() => {\n            const currentCallbacks = onTickEndCallbacks;\n            onTickEndCallbacks = undefined;\n            currentCallbacks.forEach((cb) => cb());\n        });\n    }\n    else {\n        onTickEndCallbacks.push(callback);\n    }\n}\nlet beforeUnloadCallbacks;\nexport function onBeforeUnload(callback, isLast = false) {\n    if (!beforeUnloadCallbacks) {\n        beforeUnloadCallbacks = [];\n        // eslint-disable-next-line no-restricted-globals\n        self.addEventListener('beforeunload', () => {\n            beforeUnloadCallbacks.forEach((cb) => cb());\n        });\n    }\n    if (isLast) {\n        beforeUnloadCallbacks.push(callback);\n    }\n    else {\n        beforeUnloadCallbacks.unshift(callback);\n    }\n    return () => {\n        beforeUnloadCallbacks = beforeUnloadCallbacks.filter((cb) => cb !== callback);\n    };\n}\n","import { throttle } from './schedulers';\nconst KEYS_TO_IGNORE = new Set([\n    'TeactMemoWrapper renders',\n    'TeactNContainer renders',\n    'Button renders',\n]);\nconst MIN_RENDERS_TO_SHOW = 5;\nconst MIN_DURATION_TO_SHOW = 2;\nconst BG_GREEN = ' style=\"background: lightgreen\"';\nlet counters = {};\nconst renderCountersThrottled = throttle(renderCounters, 500, false);\nlet loggerEl;\nexport function debugToOverlay(text) {\n    if (!loggerEl) {\n        setupOverlay();\n    }\n    const date = new Date();\n    const dateFormatted = `${date.toLocaleTimeString()}.${date.getMilliseconds()}`;\n    const wasAtBottom = loggerEl.scrollTop + 10 >= loggerEl.scrollHeight - loggerEl.offsetHeight;\n    loggerEl.innerHTML += `${dateFormatted}: ${text}<br/>`;\n    if (wasAtBottom) {\n        loggerEl.scrollTop = loggerEl.scrollHeight;\n    }\n}\nexport function incrementOverlayCounter(key, value = 1) {\n    const now = Date.now();\n    if (!counters[key]) {\n        counters[key] = { value, lastUpdateAt: now };\n    }\n    else {\n        counters[key].value += value;\n        counters[key].lastUpdateAt = now;\n    }\n    renderCountersThrottled();\n}\nexport function renderCounters() {\n    if (!loggerEl) {\n        setupOverlay();\n    }\n    const halfSecondAgo = Date.now() - 500;\n    const [maxRenders, maxDuration] = Object.entries(counters).reduce((acc, [key, { value }]) => {\n        if (KEYS_TO_IGNORE.has(key)) {\n            return acc;\n        }\n        if (key.includes('renders') && value > acc[0]) {\n            acc[0] = value;\n        }\n        if (key.includes('duration') && value > acc[1]) {\n            acc[1] = value;\n        }\n        return acc;\n    }, [0, 0]);\n    loggerEl.innerHTML = Object\n        .entries(counters)\n        .filter(([key, { value }]) => ((!KEYS_TO_IGNORE.has(key)) && ((key.includes('renders') && value > MIN_RENDERS_TO_SHOW)\n        || (key.includes('duration') && value > MIN_DURATION_TO_SHOW))))\n        .sort((a, b) => (b[1].lastUpdateAt - a[1].lastUpdateAt))\n        .map(([key, { value, lastUpdateAt }]) => ([\n        `<div style=\"background: #ff0000${factorToHex(value / (key.includes('renders') ? maxRenders : maxDuration))}\">`,\n        `  <span${lastUpdateAt > halfSecondAgo ? BG_GREEN : ''}>${key}: ${Math.round(value)}</span>`,\n        '</div>',\n    ].join('\\n')))\n        .join('\\n');\n}\nfunction setupOverlay() {\n    loggerEl = document.createElement('div');\n    loggerEl.style.cssText = 'position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px;'\n        + ' border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;';\n    document.body.appendChild(loggerEl);\n    const clearEl = document.createElement('a');\n    clearEl.style.cssText = 'position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; '\n        + 'cursor: pointer;';\n    clearEl.innerText = '🔄';\n    clearEl.addEventListener('click', () => {\n        counters = {};\n        renderCountersThrottled();\n    });\n    document.body.appendChild(clearEl);\n}\nfunction factorToHex(factor) {\n    return Math.round(255 * factor).toString(16).padStart(2, '0');\n}\n","export function orderBy(collection, orderRule, mode = 'asc') {\n    function compareValues(a, b, currentOrderRule, isAsc) {\n        const aValue = (typeof currentOrderRule === 'function' ? currentOrderRule(a) : a[currentOrderRule]) || 0;\n        const bValue = (typeof currentOrderRule === 'function' ? currentOrderRule(b) : b[currentOrderRule]) || 0;\n        return isAsc ? aValue - bValue : bValue - aValue;\n    }\n    if (Array.isArray(orderRule)) {\n        const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];\n        const [orderRule1, orderRule2] = orderRule;\n        const isAsc1 = mode1 === 'asc';\n        const isAsc2 = mode2 === 'asc';\n        return collection.sort((a, b) => {\n            return compareValues(a, b, orderRule1, isAsc1) || compareValues(a, b, orderRule2, isAsc2);\n        });\n    }\n    const isAsc = mode === 'asc';\n    return collection.sort((a, b) => {\n        return compareValues(a, b, orderRule, isAsc);\n    });\n}\nexport function unique(array) {\n    return Array.from(new Set(array));\n}\n","window.addEventListener('error', handleErrorEvent);\nwindow.addEventListener('unhandledrejection', handleErrorEvent);\nfunction handleErrorEvent(e) {\n    // https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded\n    if (e instanceof ErrorEvent && e.message === 'ResizeObserver loop limit exceeded') {\n        return;\n    }\n    e.preventDefault();\n    handleError(e instanceof ErrorEvent ? (e.error || e.message) : e.reason);\n}\nexport function handleError(err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n}\n","import { DEBUG_MORE } from '../config';\nimport { handleError } from './handleError';\nconst SAFE_EXEC_ENABLED = !DEBUG_MORE;\nexport default function safeExec(cb, rescue, always) {\n    if (!SAFE_EXEC_ENABLED) {\n        return cb();\n    }\n    try {\n        return cb();\n    }\n    catch (err) {\n        rescue?.(err);\n        handleError(err);\n        return undefined;\n    }\n    finally {\n        always?.();\n    }\n}\n","import { createCallbackManager } from './callbacks';\nconst SIGNAL_MARK = Symbol('SIGNAL_MARK');\nexport function isSignal(obj) {\n    return typeof obj === 'function' && SIGNAL_MARK in obj;\n}\n// A shorthand to unsubscribe effect from all signals\nconst unsubscribesByEffect = new Map();\nlet currentEffect;\nexport function createSignal(defaultValue) {\n    const state = {\n        value: defaultValue,\n        effects: createCallbackManager(),\n    };\n    function subscribe(effect) {\n        const unsubscribe = state.effects.addCallback(effect);\n        if (!unsubscribesByEffect.has(effect)) {\n            unsubscribesByEffect.set(effect, new Set([unsubscribe]));\n        }\n        else {\n            unsubscribesByEffect.get(effect).add(unsubscribe);\n        }\n        return () => {\n            unsubscribe();\n            const unsubscribes = unsubscribesByEffect.get(effect);\n            unsubscribes.delete(unsubscribe);\n            if (!unsubscribes.size) {\n                unsubscribesByEffect.delete(effect);\n            }\n        };\n    }\n    function getter() {\n        if (currentEffect) {\n            subscribe(currentEffect);\n        }\n        return state.value;\n    }\n    function setter(newValue) {\n        if (state.value === newValue) {\n            return;\n        }\n        state.value = newValue;\n        state.effects.runCallbacks();\n    }\n    const signal = Object.assign(getter, {\n        [SIGNAL_MARK]: SIGNAL_MARK,\n        subscribe,\n    });\n    return [signal, setter];\n}\nexport function cleanupEffect(effect) {\n    unsubscribesByEffect.get(effect)?.forEach((unsubscribe) => {\n        unsubscribe();\n    });\n    unsubscribesByEffect.delete(effect);\n}\n","import LAYOUT_CAUSES from './layoutCauses';\n// eslint-disable-next-line no-console\nconst DEFAULT_ERROR_HANDLER = console.error;\nlet onError = DEFAULT_ERROR_HANDLER;\nconst nativeMethods = new Map();\nlet phase = 'measure';\nlet isStrict = false;\nlet observer;\nexport function setPhase(newPhase) {\n    phase = newPhase;\n}\nexport function getPhase() {\n    return phase;\n}\nexport function enableStrict() {\n    if (isStrict)\n        return;\n    isStrict = true;\n    setupLayoutDetectors();\n    setupMutationObserver();\n}\nexport function disableStrict() {\n    if (!isStrict)\n        return;\n    clearMutationObserver();\n    clearLayoutDetectors();\n    isStrict = false;\n}\nexport function forceMeasure(cb) {\n    if (phase !== 'mutate') {\n        throw new Error('The current phase is \\'measure\\'');\n    }\n    phase = 'measure';\n    const result = cb();\n    phase = 'mutate';\n    return result;\n}\nexport function setHandler(handler) {\n    onError = handler || DEFAULT_ERROR_HANDLER;\n}\nfunction setupLayoutDetectors() {\n    Object.entries(LAYOUT_CAUSES).forEach(([name, causes]) => {\n        const entity = window[name];\n        if (!entity)\n            return;\n        const prototype = typeof entity === 'object' ? entity : entity.prototype;\n        if ('props' in causes) {\n            causes.props.forEach((prop) => {\n                const nativeGetter = Object.getOwnPropertyDescriptor(prototype, prop)?.get;\n                if (!nativeGetter) {\n                    return;\n                }\n                nativeMethods.set(`${name}#${prop}`, nativeGetter);\n                Object.defineProperty(prototype, prop, {\n                    get() {\n                        onMeasure(prop);\n                        return nativeGetter.call(this);\n                    },\n                });\n            });\n        }\n        if ('methods' in causes) {\n            causes.methods.forEach((method) => {\n                const nativeMethod = prototype[method];\n                nativeMethods.set(`${name}#${method}`, nativeMethod);\n                // eslint-disable-next-line func-names\n                prototype[method] = function (...args) {\n                    onMeasure(method);\n                    return nativeMethod.apply(this, args);\n                };\n            });\n        }\n    });\n}\nfunction clearLayoutDetectors() {\n    Object.entries(LAYOUT_CAUSES).forEach(([name, causes]) => {\n        const entity = window[name];\n        if (!entity)\n            return;\n        const prototype = typeof entity === 'object' ? entity : entity.prototype;\n        if ('props' in causes) {\n            causes.props.forEach((prop) => {\n                const nativeGetter = nativeMethods.get(`${name}#${prop}`);\n                if (!nativeGetter) {\n                    return;\n                }\n                Object.defineProperty(prototype, prop, { get: nativeGetter });\n            });\n        }\n        if ('methods' in causes) {\n            causes.methods.forEach((method) => {\n                prototype[method] = nativeMethods.get(`${name}#${method}`);\n            });\n        }\n    });\n    nativeMethods.clear();\n}\nfunction setupMutationObserver() {\n    observer = new MutationObserver((mutations) => {\n        if (phase !== 'mutate') {\n            mutations.forEach(({ target, type, attributeName }) => {\n                if (!document.contains(target)) {\n                    return;\n                }\n                if (type === 'childList' && target instanceof HTMLElement && target.contentEditable) {\n                    return;\n                }\n                if (attributeName?.startsWith('data-')) {\n                    return;\n                }\n                // eslint-disable-next-line no-console\n                onError(new Error(`Unexpected mutation detected: \\`${type === 'attributes' ? attributeName : type}\\``));\n            });\n        }\n    });\n    observer.observe(document.body, {\n        childList: true,\n        attributes: true,\n        subtree: true,\n        characterData: false,\n    });\n}\nfunction clearMutationObserver() {\n    observer?.disconnect();\n    observer = undefined;\n}\nfunction onMeasure(propName) {\n    if (phase !== 'measure') {\n        onError(new Error(`Unexpected measurement detected: \\`${propName}\\``));\n    }\n}\n","import { fastRaf, throttleWith } from '../../util/schedulers';\nimport safeExec from '../../util/safeExec';\nimport { setPhase } from './stricterdom';\nlet pendingMeasureTasks = [];\nlet pendingMutationTasks = [];\nlet pendingForceReflowTasks = [];\nconst runUpdatePassOnRaf = throttleWithRafFallback(() => {\n    const currentMeasureTasks = pendingMeasureTasks;\n    pendingMeasureTasks = [];\n    currentMeasureTasks.forEach((task) => {\n        safeExec(task);\n    });\n    // We use promises to provide correct order for Mutation Observer callback microtasks\n    Promise.resolve()\n        .then(() => {\n        setPhase('mutate');\n        const currentMutationTasks = pendingMutationTasks;\n        pendingMutationTasks = [];\n        currentMutationTasks.forEach((task) => {\n            safeExec(task);\n        });\n    })\n        .then(() => {\n        setPhase('measure');\n        const pendingForceReflowMutationTasks = [];\n        // Will include tasks created during the loop\n        for (const task of pendingForceReflowTasks) {\n            safeExec(() => {\n                const mutationTask = task();\n                if (mutationTask) {\n                    pendingForceReflowMutationTasks.push(mutationTask);\n                }\n            });\n        }\n        pendingForceReflowTasks = [];\n        return pendingForceReflowMutationTasks;\n    })\n        .then((pendingForceReflowMutationTasks) => {\n        setPhase('mutate');\n        // Will include tasks created during the loop\n        for (const task of pendingForceReflowMutationTasks) {\n            safeExec(task);\n        }\n    })\n        .then(() => {\n        setPhase('measure');\n    });\n});\nexport function requestMeasure(cb) {\n    pendingMeasureTasks.push(cb);\n    runUpdatePassOnRaf();\n}\nexport function requestMutation(cb) {\n    pendingMutationTasks.push(cb);\n    runUpdatePassOnRaf();\n}\nexport function requestNextMutation(cb) {\n    requestMeasure(() => {\n        requestMutation(cb);\n    });\n}\nexport function requestForcedReflow(cb) {\n    pendingForceReflowTasks.push(cb);\n    runUpdatePassOnRaf();\n}\nfunction throttleWithRafFallback(fn) {\n    return throttleWith((throttledFn) => {\n        fastRaf(throttledFn, true);\n    }, fn);\n}\nexport * from './stricterdom';\n","import { DEBUG, DEBUG_MORE } from '../config';\nimport { logUnequalProps } from '../util/arePropsShallowEqual';\nimport { incrementOverlayCounter } from '../util/debugOverlay';\nimport { orderBy } from '../util/iteratees';\nimport safeExec from '../util/safeExec';\nimport { throttleWith } from '../util/schedulers';\nimport { isSignal } from '../util/signals';\nimport { requestMeasure, requestMutation } from '../lib/fasterdom/fasterdom';\nexport var VirtualType;\n(function (VirtualType) {\n    VirtualType[VirtualType[\"Empty\"] = 0] = \"Empty\";\n    VirtualType[VirtualType[\"Text\"] = 1] = \"Text\";\n    VirtualType[VirtualType[\"Tag\"] = 2] = \"Tag\";\n    VirtualType[VirtualType[\"Component\"] = 3] = \"Component\";\n    VirtualType[VirtualType[\"Fragment\"] = 4] = \"Fragment\";\n})(VirtualType || (VirtualType = {}));\nexport var MountState;\n(function (MountState) {\n    MountState[MountState[\"New\"] = 0] = \"New\";\n    MountState[MountState[\"Mounted\"] = 1] = \"Mounted\";\n    MountState[MountState[\"Unmounted\"] = 2] = \"Unmounted\";\n})(MountState || (MountState = {}));\nconst Fragment = Symbol('Fragment');\nconst DEBUG_RENDER_THRESHOLD = 7;\nconst DEBUG_EFFECT_THRESHOLD = 7;\nconst DEBUG_SILENT_RENDERS_FOR = new Set(['TeactMemoWrapper', 'TeactNContainer', 'Button', 'ListItem', 'MenuItem']);\nlet lastComponentId = 0;\nlet renderingInstance;\nexport function isParentElement($element) {\n    return $element.type === VirtualType.Tag || $element.type === VirtualType.Component || $element.type === VirtualType.Fragment;\n}\nfunction createElement(source, props, ...children) {\n    if (source === Fragment) {\n        return buildFragmentElement(children);\n    }\n    else if (typeof source === 'function') {\n        return createComponentInstance(source, props || {}, children);\n    }\n    else {\n        return buildTagElement(source, props || {}, children);\n    }\n}\nfunction buildFragmentElement(children) {\n    return {\n        type: VirtualType.Fragment,\n        children: buildChildren(children, true),\n    };\n}\nfunction createComponentInstance(Component, props, children) {\n    if (children?.length) {\n        props.children = children.length === 1 ? children[0] : children;\n    }\n    const componentInstance = {\n        id: ++lastComponentId,\n        $element: undefined,\n        Component,\n        name: Component.name,\n        props,\n        mountState: MountState.New,\n    };\n    componentInstance.$element = buildComponentElement(componentInstance);\n    return componentInstance.$element;\n}\nfunction buildComponentElement(componentInstance, children) {\n    return {\n        type: VirtualType.Component,\n        componentInstance,\n        props: componentInstance.props,\n        children: children ? buildChildren(children, true) : [],\n    };\n}\nfunction buildTagElement(tag, props, children) {\n    return {\n        type: VirtualType.Tag,\n        tag,\n        props,\n        children: buildChildren(children),\n    };\n}\nfunction buildChildren(children, noEmpty = false) {\n    const cleanChildren = dropEmptyTail(children, noEmpty);\n    const newChildren = [];\n    for (let i = 0, l = cleanChildren.length; i < l; i++) {\n        const child = cleanChildren[i];\n        if (Array.isArray(child)) {\n            newChildren.push(...buildChildren(child, noEmpty));\n        }\n        else {\n            newChildren.push(buildChildElement(child));\n        }\n    }\n    return newChildren;\n}\n// We only need placeholders in the middle of collection (to ensure other elements order).\nfunction dropEmptyTail(children, noEmpty = false) {\n    let i = children.length - 1;\n    for (; i >= 0; i--) {\n        if (!isEmptyPlaceholder(children[i])) {\n            break;\n        }\n    }\n    if (i === children.length - 1) {\n        return children;\n    }\n    if (i === -1 && noEmpty) {\n        return children.slice(0, 1);\n    }\n    return children.slice(0, i + 1);\n}\nfunction isEmptyPlaceholder(child) {\n    return !child && child !== 0;\n}\nfunction buildChildElement(child) {\n    if (isEmptyPlaceholder(child)) {\n        return { type: VirtualType.Empty };\n    }\n    else if (isParentElement(child)) {\n        return child;\n    }\n    else {\n        return {\n            type: VirtualType.Text,\n            value: String(child),\n        };\n    }\n}\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_components = { TOTAL: { name: 'TOTAL', renders: 0 } };\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_memos = {};\nconst DEBUG_MEMOS_CALLS_THRESHOLD = 20;\ndocument.addEventListener('dblclick', () => {\n    // eslint-disable-next-line no-console\n    console.warn('COMPONENTS', orderBy(Object\n        .values(DEBUG_components)\n        .map(({ avgRenderTime, ...state }) => {\n        return { ...state, ...(avgRenderTime !== undefined && { avgRenderTime: Number(avgRenderTime.toFixed(2)) }) };\n    }), 'renders', 'desc'));\n    // eslint-disable-next-line no-console\n    console.warn('MEMOS', orderBy(Object\n        .values(DEBUG_memos)\n        .filter(({ calls }) => calls >= DEBUG_MEMOS_CALLS_THRESHOLD)\n        .map((state) => ({ ...state, hitRate: Number(state.hitRate.toFixed(2)) })), 'hitRate', 'asc'));\n});\nlet instancesPendingUpdate = new Set();\nlet idsToExcludeFromUpdate = new Set();\nlet pendingEffects = new Map();\nlet pendingCleanups = new Map();\nlet pendingLayoutEffects = new Map();\nlet pendingLayoutCleanups = new Map();\nlet areImmediateEffectsCaptured = false;\n/*\n  Order:\n  - component effect cleanups\n  - component effects\n  - measure tasks\n  - mutation tasks\n  - component updates\n  - component layout effect cleanups\n  - component layout effects\n  - forced layout measure tasks\n  - forced layout mutation tasks\n */\nconst runUpdatePassOnRaf = throttleWith(requestMeasure, () => {\n    const runImmediateEffects = captureImmediateEffects();\n    idsToExcludeFromUpdate = new Set();\n    const instancesToUpdate = Array\n        .from(instancesPendingUpdate)\n        .sort((a, b) => a.id - b.id);\n    instancesPendingUpdate = new Set();\n    const currentCleanups = pendingCleanups;\n    pendingCleanups = new Map();\n    currentCleanups.forEach((cb) => cb());\n    const currentEffects = pendingEffects;\n    pendingEffects = new Map();\n    currentEffects.forEach((cb) => cb());\n    requestMutation(() => {\n        instancesToUpdate.forEach(prepareComponentForFrame);\n        instancesToUpdate.forEach((instance) => {\n            if (idsToExcludeFromUpdate.has(instance.id)) {\n                return;\n            }\n            forceUpdateComponent(instance);\n        });\n        runImmediateEffects?.();\n    });\n});\nexport function captureImmediateEffects() {\n    if (areImmediateEffectsCaptured) {\n        return undefined;\n    }\n    areImmediateEffectsCaptured = true;\n    return runCapturedImmediateEffects;\n}\nfunction runCapturedImmediateEffects() {\n    const currentLayoutCleanups = pendingLayoutCleanups;\n    pendingLayoutCleanups = new Map();\n    currentLayoutCleanups.forEach((cb) => cb());\n    const currentLayoutEffects = pendingLayoutEffects;\n    pendingLayoutEffects = new Map();\n    currentLayoutEffects.forEach((cb) => cb());\n    areImmediateEffectsCaptured = false;\n}\nexport function renderComponent(componentInstance) {\n    idsToExcludeFromUpdate.add(componentInstance.id);\n    const { Component, props } = componentInstance;\n    let newRenderedValue;\n    safeExec(() => {\n        renderingInstance = componentInstance;\n        if (componentInstance.hooks) {\n            if (componentInstance.hooks.state) {\n                componentInstance.hooks.state.cursor = 0;\n            }\n            if (componentInstance.hooks.effects) {\n                componentInstance.hooks.effects.cursor = 0;\n            }\n            if (componentInstance.hooks.memos) {\n                componentInstance.hooks.memos.cursor = 0;\n            }\n            if (componentInstance.hooks.refs) {\n                componentInstance.hooks.refs.cursor = 0;\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        let DEBUG_startAt;\n        if (DEBUG) {\n            const componentName = DEBUG_resolveComponentName(Component);\n            if (!DEBUG_components[componentName]) {\n                DEBUG_components[componentName] = {\n                    name: componentName,\n                    renders: 0,\n                    avgRenderTime: 0,\n                };\n            }\n            if (DEBUG_MORE) {\n                if (!DEBUG_SILENT_RENDERS_FOR.has(componentName)) {\n                    // eslint-disable-next-line no-console\n                    console.log(`[Teact] Render ${componentName}`);\n                }\n            }\n            DEBUG_startAt = performance.now();\n        }\n        newRenderedValue = Component(props);\n        if (DEBUG) {\n            const duration = performance.now() - DEBUG_startAt;\n            const componentName = DEBUG_resolveComponentName(Component);\n            if (duration > DEBUG_RENDER_THRESHOLD) {\n                // eslint-disable-next-line no-console\n                console.warn(`[Teact] Slow component render: ${componentName}, ${Math.round(duration)} ms`);\n            }\n            const { renders, avgRenderTime } = DEBUG_components[componentName];\n            DEBUG_components[componentName].avgRenderTime = (avgRenderTime * renders + duration) / (renders + 1);\n            DEBUG_components[componentName].renders++;\n            DEBUG_components.TOTAL.renders++;\n            if (DEBUG_MORE) {\n                incrementOverlayCounter(`${componentName} renders`);\n                incrementOverlayCounter(`${componentName} duration`, duration);\n            }\n        }\n    }, () => {\n        // eslint-disable-next-line no-console\n        console.error(`[Teact] Error while rendering component ${componentInstance.name}`);\n        newRenderedValue = componentInstance.renderedValue;\n    });\n    if (componentInstance.mountState === MountState.Mounted && newRenderedValue === componentInstance.renderedValue) {\n        return componentInstance.$element;\n    }\n    componentInstance.renderedValue = newRenderedValue;\n    const children = Array.isArray(newRenderedValue) ? newRenderedValue : [newRenderedValue];\n    if (componentInstance.mountState === MountState.New) {\n        componentInstance.$element.children = buildChildren(children, true);\n    }\n    else {\n        componentInstance.$element = buildComponentElement(componentInstance, children);\n    }\n    return componentInstance.$element;\n}\nexport function hasElementChanged($old, $new) {\n    if (typeof $old !== typeof $new) {\n        return true;\n    }\n    else if ($old.type !== $new.type) {\n        return true;\n    }\n    else if ($old.type === VirtualType.Text && $new.type === VirtualType.Text) {\n        return $old.value !== $new.value;\n    }\n    else if ($old.type === VirtualType.Tag && $new.type === VirtualType.Tag) {\n        return ($old.tag !== $new.tag) || ($old.props.key !== $new.props.key);\n    }\n    else if ($old.type === VirtualType.Component && $new.type === VirtualType.Component) {\n        return ($old.componentInstance.Component !== $new.componentInstance.Component) || ($old.props.key !== $new.props.key);\n    }\n    return false;\n}\nexport function mountComponent(componentInstance) {\n    renderComponent(componentInstance);\n    componentInstance.mountState = MountState.Mounted;\n    return componentInstance.$element;\n}\nexport function unmountComponent(componentInstance) {\n    if (componentInstance.mountState !== MountState.Mounted) {\n        return;\n    }\n    idsToExcludeFromUpdate.add(componentInstance.id);\n    if (componentInstance.hooks?.effects) {\n        for (const effect of componentInstance.hooks.effects.byCursor) {\n            if (effect.cleanup) {\n                safeExec(effect.cleanup);\n            }\n            effect.cleanup = undefined;\n            effect.releaseSignals?.();\n        }\n    }\n    componentInstance.mountState = MountState.Unmounted;\n    helpGc(componentInstance);\n}\n// We need to remove all references to DOM objects. We also clean all other references, just in case\nfunction helpGc(componentInstance) {\n    const { effects, state, memos, refs, } = componentInstance.hooks || {};\n    if (effects) {\n        for (const hook of effects.byCursor) {\n            hook.schedule = undefined;\n            hook.cleanup = undefined;\n            hook.releaseSignals = undefined;\n            hook.dependencies = undefined;\n        }\n    }\n    if (state) {\n        for (const hook of state.byCursor) {\n            hook.value = undefined;\n            hook.nextValue = undefined;\n            hook.setter = undefined;\n        }\n    }\n    if (memos) {\n        for (const hook of memos.byCursor) {\n            hook.value = undefined;\n            hook.dependencies = undefined;\n        }\n    }\n    if (refs) {\n        for (const hook of refs.byCursor) {\n            hook.current = undefined;\n        }\n    }\n    componentInstance.hooks = undefined;\n    componentInstance.$element = undefined;\n    componentInstance.renderedValue = undefined;\n    componentInstance.Component = undefined;\n    componentInstance.props = undefined;\n    componentInstance.onUpdate = undefined;\n}\nfunction prepareComponentForFrame(componentInstance) {\n    if (componentInstance.mountState !== MountState.Mounted) {\n        return;\n    }\n    if (componentInstance.hooks?.state) {\n        for (const hook of componentInstance.hooks.state.byCursor) {\n            hook.value = hook.nextValue;\n        }\n    }\n}\nfunction forceUpdateComponent(componentInstance) {\n    if (componentInstance.mountState !== MountState.Mounted || !componentInstance.onUpdate) {\n        return;\n    }\n    const currentElement = componentInstance.$element;\n    renderComponent(componentInstance);\n    if (componentInstance.$element !== currentElement) {\n        componentInstance.onUpdate();\n    }\n}\nexport function useState(initial, debugKey) {\n    if (!renderingInstance.hooks) {\n        renderingInstance.hooks = {};\n    }\n    if (!renderingInstance.hooks.state) {\n        renderingInstance.hooks.state = { cursor: 0, byCursor: [] };\n    }\n    const { cursor, byCursor } = renderingInstance.hooks.state;\n    const componentInstance = renderingInstance;\n    if (byCursor[cursor] === undefined) {\n        byCursor[cursor] = {\n            value: initial,\n            nextValue: initial,\n            setter: (newValue) => {\n                if (componentInstance.mountState === MountState.Unmounted) {\n                    return;\n                }\n                if (typeof newValue === 'function') {\n                    newValue = newValue(byCursor[cursor].nextValue);\n                }\n                if (byCursor[cursor].nextValue === newValue) {\n                    return;\n                }\n                byCursor[cursor].nextValue = newValue;\n                instancesPendingUpdate.add(componentInstance);\n                runUpdatePassOnRaf();\n                if (DEBUG_MORE) {\n                    // eslint-disable-next-line no-console\n                    console.log('[Teact.useState]', DEBUG_resolveComponentName(componentInstance.Component), `State update at cursor #${cursor}${debugKey ? ` (${debugKey})` : ''}, next value: `, byCursor[cursor].nextValue);\n                }\n            },\n        };\n    }\n    renderingInstance.hooks.state.cursor++;\n    return [\n        byCursor[cursor].value,\n        byCursor[cursor].setter,\n    ];\n}\nfunction useEffectBase(isLayout, effect, dependencies, debugKey) {\n    if (!renderingInstance.hooks) {\n        renderingInstance.hooks = {};\n    }\n    if (!renderingInstance.hooks.effects) {\n        renderingInstance.hooks.effects = { cursor: 0, byCursor: [] };\n    }\n    const { cursor, byCursor } = renderingInstance.hooks.effects;\n    const componentInstance = renderingInstance;\n    const runEffectCleanup = () => safeExec(() => {\n        const { cleanup } = byCursor[cursor];\n        if (!cleanup) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        let DEBUG_startAt;\n        if (DEBUG) {\n            DEBUG_startAt = performance.now();\n        }\n        cleanup();\n        if (DEBUG) {\n            const duration = performance.now() - DEBUG_startAt;\n            const componentName = DEBUG_resolveComponentName(componentInstance.Component);\n            if (duration > DEBUG_EFFECT_THRESHOLD) {\n                // eslint-disable-next-line no-console\n                console.warn(`[Teact] Slow cleanup at effect cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);\n            }\n        }\n    }, () => {\n        // eslint-disable-next-line no-console\n        console.error(`[Teact] Error in effect cleanup at cursor #${cursor} in ${componentInstance.name}`);\n    }, () => {\n        byCursor[cursor].cleanup = undefined;\n    });\n    const runEffect = () => safeExec(() => {\n        if (componentInstance.mountState === MountState.Unmounted) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        let DEBUG_startAt;\n        if (DEBUG) {\n            DEBUG_startAt = performance.now();\n        }\n        const result = effect();\n        if (typeof result === 'function') {\n            byCursor[cursor].cleanup = result;\n        }\n        if (DEBUG) {\n            const duration = performance.now() - DEBUG_startAt;\n            const componentName = DEBUG_resolveComponentName(componentInstance.Component);\n            if (duration > DEBUG_EFFECT_THRESHOLD) {\n                // eslint-disable-next-line no-console\n                console.warn(`[Teact] Slow effect at cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);\n            }\n        }\n    }, () => {\n        // eslint-disable-next-line no-console\n        console.error(`[Teact] Error in effect at cursor #${cursor} in ${componentInstance.name}`);\n    });\n    function schedule() {\n        const effectId = `${componentInstance.id}_${cursor}`;\n        if (isLayout) {\n            pendingLayoutCleanups.set(effectId, runEffectCleanup);\n            pendingLayoutEffects.set(effectId, runEffect);\n        }\n        else {\n            pendingCleanups.set(effectId, runEffectCleanup);\n            pendingEffects.set(effectId, runEffect);\n        }\n        runUpdatePassOnRaf();\n    }\n    if (dependencies && byCursor[cursor]?.dependencies) {\n        if (dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])) {\n            if (DEBUG && debugKey) {\n                const causedBy = dependencies.reduce((res, newValue, i) => {\n                    const prevValue = byCursor[cursor].dependencies[i];\n                    if (newValue !== prevValue) {\n                        res.push(`${i}: ${prevValue} => ${newValue}`);\n                    }\n                    return res;\n                }, []);\n                // eslint-disable-next-line no-console\n                console.log(`[Teact] Effect \"${debugKey}\" caused by dependencies.`, causedBy.join(', '));\n            }\n            schedule();\n        }\n    }\n    else {\n        if (debugKey) {\n            // eslint-disable-next-line no-console\n            console.log(`[Teact] Effect \"${debugKey}\" caused by missing dependencies.`);\n        }\n        schedule();\n    }\n    const isFirstRun = !byCursor[cursor];\n    byCursor[cursor] = {\n        ...byCursor[cursor],\n        dependencies,\n        schedule,\n    };\n    function setupSignals() {\n        const cleanups = dependencies?.filter(isSignal).map((signal, i) => signal.subscribe(() => {\n            if (debugKey) {\n                // eslint-disable-next-line no-console\n                console.log(`[Teact] Effect \"${debugKey}\" caused by signal #${i} new value:`, signal());\n            }\n            byCursor[cursor].schedule();\n        }));\n        if (!cleanups?.length) {\n            return undefined;\n        }\n        return () => {\n            for (const cleanup of cleanups) {\n                cleanup();\n            }\n        };\n    }\n    if (isFirstRun) {\n        byCursor[cursor].releaseSignals = setupSignals();\n    }\n    renderingInstance.hooks.effects.cursor++;\n}\nexport function useEffect(effect, dependencies, debugKey) {\n    return useEffectBase(false, effect, dependencies, debugKey);\n}\nexport function useLayoutEffect(effect, dependencies, debugKey) {\n    return useEffectBase(true, effect, dependencies, debugKey);\n}\nexport function useMemo(resolver, dependencies, debugKey, debugHitRateKey) {\n    if (!renderingInstance.hooks) {\n        renderingInstance.hooks = {};\n    }\n    if (!renderingInstance.hooks.memos) {\n        renderingInstance.hooks.memos = { cursor: 0, byCursor: [] };\n    }\n    const { cursor, byCursor } = renderingInstance.hooks.memos;\n    let { value } = byCursor[cursor] || {};\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_state;\n    if (DEBUG && debugHitRateKey) {\n        const instanceKey = `${debugHitRateKey}#${renderingInstance.id}`;\n        DEBUG_state = DEBUG_memos[instanceKey];\n        if (!DEBUG_state) {\n            DEBUG_state = {\n                key: instanceKey, calls: 0, misses: 0, hitRate: 0,\n            };\n            DEBUG_memos[instanceKey] = DEBUG_state;\n        }\n        DEBUG_state.calls++;\n        DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;\n    }\n    if (byCursor[cursor] === undefined\n        || dependencies.length !== byCursor[cursor].dependencies.length\n        || dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])) {\n        if (DEBUG) {\n            if (debugKey) {\n                const msg = `[Teact.useMemo] ${renderingInstance.name} (${debugKey}): Update is caused by:`;\n                if (!byCursor[cursor]) {\n                    // eslint-disable-next-line no-console\n                    console.log(`${msg} [first render]`);\n                }\n                else {\n                    logUnequalProps(byCursor[cursor].dependencies, dependencies, msg, debugKey);\n                }\n            }\n            if (DEBUG_state) {\n                DEBUG_state.misses++;\n                DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;\n                if (DEBUG_state.calls % 10 === 0\n                    && DEBUG_state.calls >= DEBUG_MEMOS_CALLS_THRESHOLD\n                    && DEBUG_state.hitRate < 0.25) {\n                    // eslint-disable-next-line no-console\n                    console.warn(\n                    // eslint-disable-next-line max-len\n                    `[Teact] ${DEBUG_state.key}: Hit rate is ${DEBUG_state.hitRate.toFixed(2)} for ${DEBUG_state.calls} calls`);\n                }\n            }\n        }\n        value = resolver();\n    }\n    byCursor[cursor] = {\n        value,\n        dependencies,\n    };\n    renderingInstance.hooks.memos.cursor++;\n    return value;\n}\nexport function useCallback(newCallback, dependencies, debugKey) {\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n    return useMemo(() => newCallback, dependencies, debugKey);\n}\n// eslint-disable-next-line no-null/no-null\nexport function useRef(initial) {\n    if (!renderingInstance.hooks) {\n        renderingInstance.hooks = {};\n    }\n    if (!renderingInstance.hooks.refs) {\n        renderingInstance.hooks.refs = { cursor: 0, byCursor: [] };\n    }\n    const { cursor, byCursor } = renderingInstance.hooks.refs;\n    if (!byCursor[cursor]) {\n        byCursor[cursor] = {\n            current: initial,\n        };\n    }\n    renderingInstance.hooks.refs.cursor++;\n    return byCursor[cursor];\n}\nexport function memo(Component, debugKey) {\n    function TeactMemoWrapper(props) {\n        return useMemo(() => createElement(Component, props), \n        // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n        Object.values(props), debugKey, DEBUG_MORE ? DEBUG_resolveComponentName(renderingInstance.Component) : undefined);\n    }\n    TeactMemoWrapper.DEBUG_contentComponentName = DEBUG_resolveComponentName(Component);\n    return TeactMemoWrapper;\n}\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function DEBUG_resolveComponentName(Component) {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    const { name, DEBUG_contentComponentName } = Component;\n    if (name === 'TeactNContainer') {\n        return `container>${DEBUG_contentComponentName}`;\n    }\n    if (name === 'TeactMemoWrapper') {\n        return `memo>${DEBUG_contentComponentName}`;\n    }\n    return name + (DEBUG_contentComponentName ? `>${DEBUG_contentComponentName}` : '');\n}\nexport default {\n    createElement,\n    Fragment,\n};\n","export default function arePropsShallowEqual(currentProps, newProps) {\n    if (currentProps === newProps) {\n        return true;\n    }\n    const currentKeys = Object.keys(currentProps);\n    const currentKeysLength = currentKeys.length;\n    const newKeysLength = Object.keys(newProps).length;\n    if (currentKeysLength !== newKeysLength) {\n        return false;\n    }\n    if (currentKeysLength === 0) {\n        return true;\n    }\n    for (let i = 0; i < currentKeysLength; i++) {\n        const prop = currentKeys[i];\n        if (currentProps[prop] !== newProps[prop]) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function logUnequalProps(currentProps, newProps, msg, debugKey = '') {\n    const currentKeys = Object.keys(currentProps);\n    const currentKeysLength = currentKeys.length;\n    const newKeysLength = Object.keys(newProps).length;\n    if (currentKeysLength !== newKeysLength) {\n        // eslint-disable-next-line no-console\n        console.log(`${msg} LENGTH`);\n        return;\n    }\n    // eslint-disable-next-line no-console\n    console.log(msg);\n    currentKeys.forEach((res, prop) => {\n        if (currentProps[prop] !== newProps[prop]) {\n            // eslint-disable-next-line no-console\n            console.log(debugKey, prop, ':', currentProps[prop], '=>', newProps[prop]);\n        }\n    });\n}\n","import { DEBUG } from '../config';\nconst NON_BUBBLEABLE_EVENTS = new Set(['scroll', 'mouseenter', 'mouseleave', 'load']);\nconst documentEventCounters = {};\nconst delegationRegistryByEventType = {};\nconst delegatedEventTypesByElement = new Map();\nexport function addEventListener(element, propName, handler, asCapture = false) {\n    const eventType = resolveEventType(propName, element);\n    if (canUseEventDelegation(eventType, element, asCapture)) {\n        addDelegatedListener(eventType, element, handler);\n    }\n    else {\n        element.addEventListener(eventType, handler, asCapture);\n    }\n}\nexport function removeEventListener(element, propName, handler, asCapture = false) {\n    const eventType = resolveEventType(propName, element);\n    if (canUseEventDelegation(eventType, element, asCapture)) {\n        removeDelegatedListener(eventType, element);\n    }\n    else {\n        element.removeEventListener(eventType, handler, asCapture);\n    }\n}\nfunction resolveEventType(propName, element) {\n    const eventType = propName\n        .replace(/^on/, '')\n        .replace(/Capture$/, '').toLowerCase();\n    if (eventType === 'change' && element.tagName !== 'SELECT') {\n        // React behavior repeated here.\n        // https://stackoverflow.com/questions/38256332/in-react-whats-the-difference-between-onchange-and-oninput\n        return 'input';\n    }\n    if (eventType === 'doubleclick') {\n        return 'dblclick';\n    }\n    // Replace focus/blur by their \"bubbleable\" versions\n    if (eventType === 'focus') {\n        return 'focusin';\n    }\n    if (eventType === 'blur') {\n        return 'focusout';\n    }\n    return eventType;\n}\nfunction canUseEventDelegation(realEventType, element, asCapture) {\n    return (!asCapture\n        && !NON_BUBBLEABLE_EVENTS.has(realEventType)\n        && element.tagName !== 'VIDEO'\n        && element.tagName !== 'IFRAME');\n}\nfunction addDelegatedListener(eventType, element, handler) {\n    if (!documentEventCounters[eventType]) {\n        documentEventCounters[eventType] = 0;\n        document.addEventListener(eventType, handleEvent);\n    }\n    resolveDelegationRegistry(eventType).set(element, handler);\n    resolveDelegatedEventTypes(element).add(eventType);\n    documentEventCounters[eventType]++;\n}\nfunction removeDelegatedListener(eventType, element) {\n    documentEventCounters[eventType]--;\n    if (!documentEventCounters[eventType]) {\n        // Synchronous deletion on 0 will cause perf degradation in the case of 1 element\n        // which is not a real case, so it's ok to do it this way\n        document.removeEventListener(eventType, handleEvent);\n    }\n    delegationRegistryByEventType[eventType].delete(element);\n    delegatedEventTypesByElement.get(element)?.delete(eventType);\n}\nexport function removeAllDelegatedListeners(element) {\n    const eventTypes = delegatedEventTypesByElement.get(element);\n    if (!eventTypes) {\n        return;\n    }\n    delegatedEventTypesByElement.delete(element);\n    eventTypes.forEach((eventType) => removeDelegatedListener(eventType, element));\n}\nfunction handleEvent(realEvent) {\n    const events = delegationRegistryByEventType[realEvent.type];\n    if (events) {\n        let furtherCallsPrevented = false;\n        let current = realEvent.target;\n        const stopPropagation = () => {\n            furtherCallsPrevented = true;\n        };\n        const preventDefault = () => {\n            realEvent.preventDefault();\n        };\n        // Proxy is a simplest way to provide an access to the event property\n        const event = new Proxy(realEvent, {\n            get(target, p) {\n                if (p === 'currentTarget') {\n                    return current;\n                }\n                if (p === 'stopPropagation' || p === 'stopImmediatePropagation') {\n                    return stopPropagation;\n                }\n                if (p === 'preventDefault') {\n                    // \"this\" is changed to proxy and one can't call methods via it\n                    return preventDefault;\n                }\n                return Reflect.get(target, p);\n            },\n        });\n        // This can also be limited by teact root\n        while (current && current !== document.body) {\n            const handler = events.get(current);\n            if (handler) {\n                handler(event);\n                if (furtherCallsPrevented) {\n                    return;\n                }\n            }\n            current = current.parentNode;\n        }\n    }\n}\nfunction resolveDelegationRegistry(eventType) {\n    if (!delegationRegistryByEventType[eventType]) {\n        delegationRegistryByEventType[eventType] = new Map();\n    }\n    return delegationRegistryByEventType[eventType];\n}\nfunction resolveDelegatedEventTypes(element) {\n    const existing = delegatedEventTypesByElement.get(element);\n    if (existing) {\n        return existing;\n    }\n    const newSet = new Set();\n    delegatedEventTypesByElement.set(element, newSet);\n    return newSet;\n}\nif (DEBUG) {\n    document.addEventListener('dblclick', () => {\n        const documentListenersCount = Object.keys(documentEventCounters).length;\n        const delegatedHandlersCount1 = Object.values(documentEventCounters)\n            .reduce((acc, counter) => acc + counter, 0);\n        const delegationRegistriesCount = Object.keys(delegationRegistryByEventType).length;\n        const delegatedHandlersCount2 = Object.values(delegationRegistryByEventType)\n            .reduce((acc, delegationRegistry) => acc + delegationRegistry.size, 0);\n        const delegationElementsCount = delegatedEventTypesByElement.size;\n        const delegatedEventTypesCount = Array.from(delegatedEventTypesByElement.values())\n            .reduce((acc, eventTypes) => acc + eventTypes.size, 0);\n        // eslint-disable-next-line no-console\n        console.warn('DELEGATED EVENTS STATS', {\n            delegatedHandlersCount1,\n            delegatedHandlersCount2,\n            delegatedEventTypesCount,\n            delegationRegistriesCount,\n            delegationElementsCount,\n            documentListenersCount,\n        });\n    });\n}\n","import { captureImmediateEffects, hasElementChanged, isParentElement, mountComponent, MountState, renderComponent, unmountComponent, VirtualType, } from './teact';\nimport { DEBUG } from '../config';\nimport { addEventListener, removeAllDelegatedListeners, removeEventListener } from './dom-events';\nimport { unique } from '../util/iteratees';\nconst FILTERED_ATTRIBUTES = new Set(['key', 'ref', 'teactFastList', 'teactOrderKey']);\nconst HTML_ATTRIBUTES = new Set(['dir', 'role', 'form']);\nconst CONTROLLABLE_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\nconst MAPPED_ATTRIBUTES = {\n    autoPlay: 'autoplay',\n    autoComplete: 'autocomplete',\n};\nconst INDEX_KEY_PREFIX = '__indexKey#';\nconst headsByElement = new WeakMap();\nconst extraClasses = new WeakMap();\nconst extraStyles = new WeakMap();\nfunction render($element, parentEl) {\n    if (!headsByElement.has(parentEl)) {\n        headsByElement.set(parentEl, { children: [] });\n    }\n    const runImmediateEffects = captureImmediateEffects();\n    const $head = headsByElement.get(parentEl);\n    const $renderedChild = renderWithVirtual(parentEl, $head.children[0], $element, $head, 0);\n    runImmediateEffects?.();\n    $head.children = $renderedChild ? [$renderedChild] : [];\n    return undefined;\n}\nfunction renderWithVirtual(parentEl, $current, $new, $parent, index, options = {}) {\n    const { skipComponentUpdate, fragment } = options;\n    let { nextSibling } = options;\n    const isCurrentComponent = $current && $current.type === VirtualType.Component;\n    const isNewComponent = $new && $new.type === VirtualType.Component;\n    const $newAsReal = $new;\n    const isCurrentFragment = $current && !isCurrentComponent && $current.type === VirtualType.Fragment;\n    const isNewFragment = $new && !isNewComponent && $new.type === VirtualType.Fragment;\n    if (!skipComponentUpdate\n        && isCurrentComponent && isNewComponent\n        && !hasElementChanged($current, $new)) {\n        $new = updateComponent($current, $new);\n    }\n    // Parent element may have changed, so we need to update the listener closure.\n    if (!skipComponentUpdate\n        && isNewComponent\n        && $new.componentInstance.mountState === MountState.Mounted) {\n        setupComponentUpdateListener(parentEl, $new, $parent, index);\n    }\n    if ($current === $new) {\n        return $new;\n    }\n    if (DEBUG && $new) {\n        const newTarget = 'target' in $new && $new.target;\n        if (newTarget && (!$current || ('target' in $current && newTarget !== $current.target))) {\n            throw new Error('[Teact] Cached virtual element was moved within tree');\n        }\n    }\n    if (!$current && $new) {\n        if (isNewComponent || isNewFragment) {\n            if (isNewComponent) {\n                $new = initComponent(parentEl, $new, $parent, index);\n            }\n            mountChildren(parentEl, $new, { nextSibling, fragment });\n        }\n        else {\n            const canSetTextContent = !fragment\n                && !nextSibling\n                && $newAsReal.type === VirtualType.Text\n                && $parent.children.length === 1\n                && !parentEl.firstChild;\n            if (canSetTextContent) {\n                parentEl.textContent = $newAsReal.value;\n                $newAsReal.target = parentEl.firstChild;\n            }\n            else {\n                const node = createNode($newAsReal);\n                $newAsReal.target = node;\n                insertBefore(fragment || parentEl, node, nextSibling);\n                if ($newAsReal.type === VirtualType.Tag) {\n                    setElementRef($newAsReal, node);\n                }\n            }\n        }\n    }\n    else if ($current && !$new) {\n        remount(parentEl, $current, undefined);\n    }\n    else if ($current && $new) {\n        if (hasElementChanged($current, $new)) {\n            if (!nextSibling) {\n                nextSibling = getNextSibling($current);\n            }\n            if (isNewComponent || isNewFragment) {\n                if (isNewComponent) {\n                    $new = initComponent(parentEl, $new, $parent, index);\n                }\n                remount(parentEl, $current, undefined);\n                mountChildren(parentEl, $new, { nextSibling, fragment });\n            }\n            else {\n                const node = createNode($newAsReal);\n                $newAsReal.target = node;\n                remount(parentEl, $current, node, nextSibling);\n                if ($newAsReal.type === VirtualType.Tag) {\n                    setElementRef($newAsReal, node);\n                }\n            }\n        }\n        else {\n            const isComponent = isCurrentComponent && isNewComponent;\n            const isFragment = isCurrentFragment && isNewFragment;\n            if (isComponent || isFragment) {\n                renderChildren($current, $new, parentEl, nextSibling, options.forceMoveToEnd);\n            }\n            else {\n                const $currentAsReal = $current;\n                const currentTarget = $currentAsReal.target;\n                $newAsReal.target = currentTarget;\n                $currentAsReal.target = undefined; // Help GC\n                const isTag = $current.type === VirtualType.Tag;\n                if (isTag) {\n                    const $newAsTag = $new;\n                    setElementRef($current, undefined);\n                    setElementRef($newAsTag, currentTarget);\n                    if (nextSibling || options.forceMoveToEnd) {\n                        insertBefore(parentEl, currentTarget, nextSibling);\n                    }\n                    updateAttributes($current, $newAsTag, currentTarget);\n                    renderChildren($current, $newAsTag, currentTarget);\n                }\n            }\n        }\n    }\n    return $new;\n}\nfunction initComponent(parentEl, $element, $parent, index) {\n    const { componentInstance } = $element;\n    if (componentInstance.mountState === MountState.New) {\n        $element = mountComponent(componentInstance);\n        setupComponentUpdateListener(parentEl, $element, $parent, index);\n    }\n    return $element;\n}\nfunction updateComponent($current, $new) {\n    $current.componentInstance.props = $new.componentInstance.props;\n    return renderComponent($current.componentInstance);\n}\nfunction setupComponentUpdateListener(parentEl, $element, $parent, index) {\n    const { componentInstance } = $element;\n    componentInstance.onUpdate = () => {\n        $parent.children[index] = renderWithVirtual(parentEl, $parent.children[index], componentInstance.$element, $parent, index, { skipComponentUpdate: true });\n    };\n}\nfunction mountChildren(parentEl, $element, options) {\n    const { children } = $element;\n    for (let i = 0, l = children.length; i < l; i++) {\n        const $child = children[i];\n        const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $element, i, options);\n        if ($renderedChild !== $child) {\n            children[i] = $renderedChild;\n        }\n    }\n}\nfunction unmountChildren(parentEl, $element) {\n    for (const $child of $element.children) {\n        renderWithVirtual(parentEl, $child, undefined, $element, -1);\n    }\n}\nfunction createNode($element) {\n    if ($element.type === VirtualType.Empty) {\n        return document.createTextNode('');\n    }\n    if ($element.type === VirtualType.Text) {\n        return document.createTextNode($element.value);\n    }\n    const { tag, props, children } = $element;\n    const element = document.createElement(tag);\n    processControlled(tag, props);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const key in props) {\n        if (!props.hasOwnProperty(key))\n            continue;\n        if (props[key] !== undefined) {\n            setAttribute(element, key, props[key]);\n        }\n    }\n    processUncontrolledOnMount(element, props);\n    for (let i = 0, l = children.length; i < l; i++) {\n        const $child = children[i];\n        const $renderedChild = renderWithVirtual(element, undefined, $child, $element, i);\n        if ($renderedChild !== $child) {\n            children[i] = $renderedChild;\n        }\n    }\n    return element;\n}\nfunction remount(parentEl, $current, node, componentNextSibling) {\n    const isComponent = $current.type === VirtualType.Component;\n    const isFragment = !isComponent && $current.type === VirtualType.Fragment;\n    if (isComponent || isFragment) {\n        if (isComponent) {\n            unmountComponent($current.componentInstance);\n        }\n        unmountChildren(parentEl, $current);\n        if (node) {\n            insertBefore(parentEl, node, componentNextSibling);\n        }\n    }\n    else {\n        if (node) {\n            parentEl.replaceChild(node, $current.target);\n        }\n        else {\n            parentEl.removeChild($current.target);\n        }\n        unmountRealTree($current);\n    }\n}\nfunction unmountRealTree($element) {\n    if ($element.type === VirtualType.Component) {\n        unmountComponent($element.componentInstance);\n    }\n    else if ($element.type !== VirtualType.Fragment) {\n        if ($element.type === VirtualType.Tag) {\n            extraClasses.delete($element.target);\n            setElementRef($element, undefined);\n            removeAllDelegatedListeners($element.target);\n        }\n        $element.target = undefined; // Help GC\n        if ($element.type !== VirtualType.Tag) {\n            return;\n        }\n    }\n    for (const $child of $element.children) {\n        unmountRealTree($child);\n    }\n}\nfunction insertBefore(parentEl, node, nextSibling) {\n    if (nextSibling) {\n        parentEl.insertBefore(node, nextSibling);\n    }\n    else {\n        parentEl.appendChild(node);\n    }\n}\nfunction getNextSibling($current) {\n    if ($current.type === VirtualType.Component || $current.type === VirtualType.Fragment) {\n        const lastChild = $current.children[$current.children.length - 1];\n        return getNextSibling(lastChild);\n    }\n    return $current.target.nextSibling || undefined;\n}\nfunction renderChildren($current, $new, currentEl, nextSibling, forceMoveToEnd = false) {\n    if (DEBUG) {\n        DEBUG_checkKeyUniqueness($new.children);\n    }\n    if (('props' in $new) && $new.props.teactFastList) {\n        renderFastListChildren($current, $new, currentEl);\n        return;\n    }\n    const currentChildren = $current.children;\n    const newChildren = $new.children;\n    const currentChildrenLength = currentChildren.length;\n    const newChildrenLength = newChildren.length;\n    const maxLength = Math.max(currentChildrenLength, newChildrenLength);\n    const fragment = newChildrenLength > currentChildrenLength ? document.createDocumentFragment() : undefined;\n    const lastCurrentChild = $current.children[currentChildrenLength - 1];\n    const fragmentNextSibling = fragment && (nextSibling || (lastCurrentChild ? getNextSibling(lastCurrentChild) : undefined));\n    for (let i = 0; i < maxLength; i++) {\n        const $renderedChild = renderWithVirtual(currentEl, currentChildren[i], newChildren[i], $new, i, i >= currentChildrenLength ? { fragment } : { nextSibling, forceMoveToEnd });\n        if ($renderedChild && $renderedChild !== newChildren[i]) {\n            newChildren[i] = $renderedChild;\n        }\n    }\n    if (fragment) {\n        insertBefore(currentEl, fragment, fragmentNextSibling);\n    }\n}\n// This function allows to prepend/append a bunch of new DOM nodes to the top/bottom of preserved ones.\n// It also allows to selectively move particular preserved nodes within their DOM list.\nfunction renderFastListChildren($current, $new, currentEl) {\n    const currentChildren = $current.children;\n    const newChildren = $new.children;\n    const newKeys = new Set();\n    for (const $newChild of newChildren) {\n        const key = 'props' in $newChild ? $newChild.props.key : undefined;\n        if (DEBUG && isParentElement($newChild)) {\n            // eslint-disable-next-line no-null/no-null\n            if (key === undefined || key === null) {\n                // eslint-disable-next-line no-console\n                console.warn('Missing `key` in `teactFastList`');\n            }\n            if ($newChild.type === VirtualType.Fragment) {\n                throw new Error('[Teact] Fragment can not be child of container with `teactFastList`');\n            }\n        }\n        newKeys.add(key);\n    }\n    // Build a collection of old children that also remain in the new list\n    let currentRemainingIndex = 0;\n    const remainingByKey = {};\n    for (let i = 0, l = currentChildren.length; i < l; i++) {\n        const $currentChild = currentChildren[i];\n        let key = 'props' in $currentChild ? $currentChild.props.key : undefined;\n        // eslint-disable-next-line no-null/no-null\n        const isKeyPresent = key !== undefined && key !== null;\n        // First we process removed children\n        if (isKeyPresent && !newKeys.has(key)) {\n            renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n            continue;\n        }\n        else if (!isKeyPresent) {\n            const $newChild = newChildren[i];\n            const newChildKey = ($newChild && 'props' in $newChild) ? $newChild.props.key : undefined;\n            // If a non-key element remains at the same index we preserve it with a virtual `key`\n            if ($newChild && !newChildKey) {\n                key = `${INDEX_KEY_PREFIX}${i}`;\n                // Otherwise, we just remove it\n            }\n            else {\n                renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n                continue;\n            }\n        }\n        // Then we build up info about remaining children\n        remainingByKey[key] = {\n            $element: $currentChild,\n            index: currentRemainingIndex++,\n            orderKey: 'props' in $currentChild ? $currentChild.props.teactOrderKey : undefined,\n        };\n    }\n    let fragmentIndex;\n    let fragmentSize;\n    let currentPreservedIndex = 0;\n    for (let i = 0, l = newChildren.length; i < l; i++) {\n        const $newChild = newChildren[i];\n        const key = 'props' in $newChild ? $newChild.props.key : `${INDEX_KEY_PREFIX}${i}`;\n        const currentChildInfo = remainingByKey[key];\n        if (!currentChildInfo) {\n            if (fragmentSize === undefined) {\n                fragmentIndex = i;\n                fragmentSize = 0;\n            }\n            fragmentSize++;\n            continue;\n        }\n        // This prepends new children to the top\n        if (fragmentSize) {\n            renderFragment(fragmentIndex, fragmentSize, currentEl, $new);\n            fragmentSize = undefined;\n            fragmentIndex = undefined;\n        }\n        // Now we check if a preserved node was moved within preserved list\n        const newOrderKey = 'props' in $newChild ? $newChild.props.teactOrderKey : undefined;\n        // That is indicated by a changed `teactOrderKey` value\n        const shouldMoveNode = (currentChildInfo.index !== currentPreservedIndex && (!newOrderKey || currentChildInfo.orderKey !== newOrderKey));\n        const isMovingDown = shouldMoveNode && currentPreservedIndex > currentChildInfo.index;\n        if (!shouldMoveNode || isMovingDown) {\n            currentPreservedIndex++;\n        }\n        const nextSibling = currentEl.childNodes[isMovingDown ? i + 1 : i];\n        const options = shouldMoveNode ? (nextSibling ? { nextSibling } : { forceMoveToEnd: true }) : undefined;\n        const $renderedChild = renderWithVirtual(currentEl, currentChildInfo.$element, $newChild, $new, i, options);\n        if ($renderedChild !== $newChild) {\n            newChildren[i] = $renderedChild;\n        }\n    }\n    // This appends new children to the bottom\n    if (fragmentSize) {\n        renderFragment(fragmentIndex, fragmentSize, currentEl, $new);\n    }\n}\nfunction renderFragment(fragmentIndex, fragmentSize, parentEl, $parent) {\n    const nextSibling = parentEl.childNodes[fragmentIndex];\n    if (fragmentSize === 1) {\n        const $child = $parent.children[fragmentIndex];\n        const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, fragmentIndex, { nextSibling });\n        if ($renderedChild !== $child) {\n            $parent.children[fragmentIndex] = $renderedChild;\n        }\n        return;\n    }\n    const fragment = document.createDocumentFragment();\n    for (let i = fragmentIndex; i < fragmentIndex + fragmentSize; i++) {\n        const $child = $parent.children[i];\n        const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, i, { fragment });\n        if ($renderedChild !== $child) {\n            $parent.children[i] = $renderedChild;\n        }\n    }\n    insertBefore(parentEl, fragment, nextSibling);\n}\nfunction setElementRef($element, htmlElement) {\n    const { ref } = $element.props;\n    if (typeof ref === 'object') {\n        ref.current = htmlElement;\n    }\n    else if (typeof ref === 'function') {\n        ref(htmlElement);\n    }\n}\nfunction processControlled(tag, props) {\n    const isValueControlled = props.value !== undefined;\n    const isCheckedControlled = props.checked !== undefined;\n    const isControlled = (isValueControlled || isCheckedControlled) && CONTROLLABLE_TAGS.includes(tag.toUpperCase());\n    if (!isControlled) {\n        return;\n    }\n    const { value, checked, onInput, onChange, } = props;\n    props.onChange = undefined;\n    props.onInput = (e) => {\n        onInput?.(e);\n        onChange?.(e);\n        if (value !== undefined && value !== e.currentTarget.value) {\n            const { selectionStart, selectionEnd } = e.currentTarget;\n            const isCaretAtEnd = selectionStart === selectionEnd && selectionEnd === e.currentTarget.value.length;\n            e.currentTarget.value = value;\n            if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {\n                e.currentTarget.setSelectionRange(selectionStart, selectionEnd);\n                const selectionState = { selectionStart, selectionEnd, isCaretAtEnd };\n                // eslint-disable-next-line no-underscore-dangle\n                e.currentTarget.dataset.__teactSelectionState = JSON.stringify(selectionState);\n            }\n        }\n        if (checked !== undefined) {\n            e.currentTarget.checked = checked;\n        }\n    };\n}\nfunction processUncontrolledOnMount(element, props) {\n    if (!CONTROLLABLE_TAGS.includes(element.tagName)) {\n        return;\n    }\n    if (props.defaultValue) {\n        setAttribute(element, 'value', props.defaultValue);\n    }\n    if (props.defaultChecked) {\n        setAttribute(element, 'checked', props.defaultChecked);\n    }\n}\nfunction updateAttributes($current, $new, element) {\n    processControlled(element.tagName, $new.props);\n    const currentEntries = Object.entries($current.props);\n    const newEntries = Object.entries($new.props);\n    for (const [key, currentValue] of currentEntries) {\n        const newValue = $new.props[key];\n        if (currentValue !== undefined\n            && (newValue === undefined\n                || (currentValue !== newValue && key.startsWith('on')))) {\n            removeAttribute(element, key, currentValue);\n        }\n    }\n    for (const [key, newValue] of newEntries) {\n        const currentValue = $current.props[key];\n        if (newValue !== undefined && newValue !== currentValue) {\n            setAttribute(element, key, newValue);\n        }\n    }\n}\nfunction setAttribute(element, key, value) {\n    if (key === 'className') {\n        updateClassName(element, value);\n    }\n    else if (key === 'value') {\n        const inputEl = element;\n        if (inputEl.value !== value) {\n            inputEl.value = value;\n            // eslint-disable-next-line no-underscore-dangle\n            const selectionStateJson = inputEl.dataset.__teactSelectionState;\n            if (selectionStateJson) {\n                const { selectionStart, selectionEnd, isCaretAtEnd } = JSON.parse(selectionStateJson);\n                if (isCaretAtEnd) {\n                    const length = inputEl.value.length;\n                    inputEl.setSelectionRange(length, length);\n                }\n                else if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {\n                    inputEl.setSelectionRange(selectionStart, selectionEnd);\n                }\n            }\n        }\n    }\n    else if (key === 'style') {\n        updateStyle(element, value);\n    }\n    else if (key === 'dangerouslySetInnerHTML') {\n        // eslint-disable-next-line no-underscore-dangle\n        element.innerHTML = value.__html;\n    }\n    else if (key.startsWith('on')) {\n        addEventListener(element, key, value, key.endsWith('Capture'));\n    }\n    else if (key.startsWith('data-') || key.startsWith('aria-') || HTML_ATTRIBUTES.has(key)) {\n        element.setAttribute(key, value);\n    }\n    else if (!FILTERED_ATTRIBUTES.has(key)) {\n        element[MAPPED_ATTRIBUTES[key] || key] = value;\n    }\n}\nfunction removeAttribute(element, key, value) {\n    if (key === 'className') {\n        updateClassName(element, '');\n    }\n    else if (key === 'value') {\n        element.value = '';\n    }\n    else if (key === 'style') {\n        updateStyle(element, '');\n    }\n    else if (key === 'dangerouslySetInnerHTML') {\n        element.innerHTML = '';\n    }\n    else if (key.startsWith('on')) {\n        removeEventListener(element, key, value, key.endsWith('Capture'));\n    }\n    else if (!FILTERED_ATTRIBUTES.has(key)) {\n        element.removeAttribute(key);\n    }\n}\nfunction updateClassName(element, value) {\n    const extra = extraClasses.get(element);\n    if (!extra) {\n        element.className = value;\n        return;\n    }\n    const extraArray = Array.from(extra);\n    if (value) {\n        extraArray.push(value);\n    }\n    element.className = extraArray.join(' ');\n}\nfunction updateStyle(element, value) {\n    element.style.cssText = value;\n    const extraObject = extraStyles.get(element);\n    if (extraObject) {\n        applyExtraStyles(element);\n    }\n}\nexport function addExtraClass(element, className, forceSingle = false) {\n    if (!forceSingle) {\n        const classNames = className.split(' ');\n        if (classNames.length > 1) {\n            for (const cn of classNames) {\n                addExtraClass(element, cn, true);\n            }\n            return;\n        }\n    }\n    element.classList.add(className);\n    const classList = extraClasses.get(element);\n    if (classList) {\n        classList.add(className);\n    }\n    else {\n        extraClasses.set(element, new Set([className]));\n    }\n}\nexport function removeExtraClass(element, className, forceSingle = false) {\n    if (!forceSingle) {\n        const classNames = className.split(' ');\n        if (classNames.length > 1) {\n            for (const cn of classNames) {\n                removeExtraClass(element, cn, true);\n            }\n            return;\n        }\n    }\n    element.classList.remove(className);\n    const classList = extraClasses.get(element);\n    if (classList) {\n        classList.delete(className);\n        if (!classList.size) {\n            extraClasses.delete(element);\n        }\n    }\n}\nexport function toggleExtraClass(element, className, force, forceSingle = false) {\n    if (!forceSingle) {\n        const classNames = className.split(' ');\n        if (classNames.length > 1) {\n            for (const cn of classNames) {\n                toggleExtraClass(element, cn, force, true);\n            }\n            return;\n        }\n    }\n    element.classList.toggle(className, force);\n    if (element.classList.contains(className)) {\n        addExtraClass(element, className);\n    }\n    else {\n        removeExtraClass(element, className);\n    }\n}\nexport function setExtraStyles(element, styles) {\n    extraStyles.set(element, styles);\n    applyExtraStyles(element);\n}\nfunction applyExtraStyles(element) {\n    const standardStyles = Object.entries(extraStyles.get(element)).reduce((acc, [prop, value]) => {\n        if (prop.startsWith('--')) {\n            element.style.setProperty(prop, value);\n        }\n        else {\n            acc[prop] = value;\n        }\n        return acc;\n    }, {});\n    Object.assign(element.style, standardStyles);\n}\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction DEBUG_checkKeyUniqueness(children) {\n    const firstChild = children[0];\n    if (firstChild && 'props' in firstChild && firstChild.props.key !== undefined) {\n        const keys = children.reduce((acc, child) => {\n            if ('props' in child && child.props.key) {\n                acc.push(child.props.key);\n            }\n            return acc;\n        }, []);\n        if (keys.length !== unique(keys).length) {\n            // eslint-disable-next-line no-console\n            console.warn('[Teact] Duplicated keys:', keys.filter((e, i, a) => a.indexOf(e) !== i));\n            throw new Error('[Teact] Children keys are not unique');\n        }\n    }\n}\nconst TeactDOM = { render };\nexport default TeactDOM;\n","import * as teact from './teact';\nimport * as teactDom from './teact-dom';\nconst { default: teactDefault, ...Teact } = teact;\nObject.assign(Teact, teactDefault);\nconst { default: teactDomDefault, ...TeactDOM } = teactDom;\nObject.assign(TeactDOM, teactDomDefault);\nexport { Teact, TeactDOM };\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","DEBUG","DEBUG_MORE","throttleWith","schedulerFn","fn","args","waiting","_args","fastRafCallbacks","fastRafFallbackCallbacks","fastRafFallbackTimeout","KEYS_TO_IGNORE","Set","counters","renderCountersThrottled","ms","shouldRunFirst","interval","isPending","self","setInterval","clearInterval","undefined","throttle","loggerEl","document","createElement","style","cssText","body","appendChild","clearEl","innerText","addEventListener","setupOverlay","halfSecondAgo","Date","now","maxRenders","maxDuration","entries","reduce","acc","has","includes","innerHTML","filter","sort","a","b","lastUpdateAt","map","factor","Math","round","toString","padStart","join","incrementOverlayCounter","orderBy","collection","orderRule","mode","compareValues","currentOrderRule","isAsc","aValue","bValue","Array","isArray","mode1","mode2","orderRule1","orderRule2","isAsc1","isAsc2","handleErrorEvent","e","ErrorEvent","message","preventDefault","handleError","error","reason","err","console","window","SAFE_EXEC_ENABLED","safeExec","cb","rescue","always","SIGNAL_MARK","isSignal","Map","phase","setPhase","newPhase","pendingMeasureTasks","pendingMutationTasks","pendingForceReflowTasks","runUpdatePassOnRaf","throttledFn","callback","withTimeoutFallback","add","requestAnimationFrame","currentCallbacks","clearTimeout","forEach","setTimeout","currentTimeoutCallbacks","delete","fastRaf","currentMeasureTasks","task","Promise","resolve","then","currentMutationTasks","pendingForceReflowMutationTasks","mutationTask","push","VirtualType","MountState","Fragment","DEBUG_RENDER_THRESHOLD","DEBUG_EFFECT_THRESHOLD","DEBUG_SILENT_RENDERS_FOR","renderingInstance","lastComponentId","isParentElement","$element","type","Tag","Component","source","props","children","buildChildren","buildFragmentElement","length","componentInstance","id","name","mountState","New","buildComponentElement","createComponentInstance","tag","buildTagElement","noEmpty","cleanChildren","i","isEmptyPlaceholder","slice","dropEmptyTail","newChildren","l","child","buildChildElement","Empty","Text","String","DEBUG_components","TOTAL","renders","DEBUG_memos","DEBUG_MEMOS_CALLS_THRESHOLD","warn","values","avgRenderTime","state","Number","toFixed","calls","hitRate","instancesPendingUpdate","idsToExcludeFromUpdate","pendingEffects","pendingCleanups","pendingLayoutEffects","pendingLayoutCleanups","areImmediateEffectsCaptured","runImmediateEffects","captureImmediateEffects","instancesToUpdate","from","currentCleanups","currentEffects","prepareComponentForFrame","instance","Mounted","onUpdate","currentElement","renderComponent","forceUpdateComponent","runCapturedImmediateEffects","currentLayoutCleanups","currentLayoutEffects","newRenderedValue","DEBUG_startAt","hooks","cursor","effects","memos","refs","componentName","DEBUG_resolveComponentName","log","performance","duration","renderedValue","hasElementChanged","$old","$new","mountComponent","unmountComponent","effect","byCursor","cleanup","releaseSignals","Unmounted","hook","schedule","dependencies","nextValue","setter","current","helpGc","useState","initial","debugKey","newValue","useEffectBase","isLayout","runEffectCleanup","runEffect","result","effectId","set","some","dependency","causedBy","res","prevValue","isFirstRun","cleanups","signal","subscribe","setupSignals","useEffect","useLayoutEffect","useMemo","resolver","debugHitRateKey","DEBUG_state","instanceKey","misses","msg","currentProps","newProps","currentKeys","keys","logUnequalProps","useCallback","newCallback","useRef","memo","TeactMemoWrapper","DEBUG_contentComponentName","NON_BUBBLEABLE_EVENTS","documentEventCounters","delegationRegistryByEventType","delegatedEventTypesByElement","resolveEventType","propName","element","eventType","replace","toLowerCase","tagName","canUseEventDelegation","realEventType","asCapture","removeDelegatedListener","removeEventListener","handleEvent","realEvent","events","furtherCallsPrevented","target","stopPropagation","event","Proxy","p","Reflect","handler","parentNode","documentListenersCount","delegatedHandlersCount1","counter","delegationRegistriesCount","delegatedHandlersCount2","delegationRegistry","size","delegationElementsCount","delegatedEventTypesCount","eventTypes","FILTERED_ATTRIBUTES","HTML_ATTRIBUTES","CONTROLLABLE_TAGS","MAPPED_ATTRIBUTES","autoPlay","autoComplete","INDEX_KEY_PREFIX","headsByElement","WeakMap","extraClasses","extraStyles","renderWithVirtual","parentEl","$current","$parent","index","options","skipComponentUpdate","fragment","nextSibling","isCurrentComponent","isNewComponent","$newAsReal","isCurrentFragment","isNewFragment","updateComponent","setupComponentUpdateListener","newTarget","Error","initComponent","mountChildren","firstChild","node","createNode","insertBefore","setElementRef","textContent","remount","getNextSibling","renderChildren","forceMoveToEnd","$currentAsReal","currentTarget","$newAsTag","processControlled","currentEntries","newEntries","currentValue","startsWith","removeAttribute","setAttribute","updateAttributes","$child","$renderedChild","createTextNode","defaultValue","defaultChecked","processUncontrolledOnMount","componentNextSibling","isComponent","isFragment","unmountChildren","replaceChild","removeChild","unmountRealTree","removeAllDelegatedListeners","currentEl","array","indexOf","DEBUG_checkKeyUniqueness","teactFastList","currentChildren","newKeys","$newChild","currentRemainingIndex","remainingByKey","$currentChild","isKeyPresent","newChildKey","orderKey","teactOrderKey","fragmentIndex","fragmentSize","currentPreservedIndex","currentChildInfo","renderFragment","newOrderKey","shouldMoveNode","isMovingDown","childNodes","renderFastListChildren","currentChildrenLength","newChildrenLength","maxLength","max","createDocumentFragment","lastCurrentChild","fragmentNextSibling","htmlElement","ref","isValueControlled","isCheckedControlled","checked","toUpperCase","onInput","onChange","selectionStart","selectionEnd","isCaretAtEnd","setSelectionRange","selectionState","dataset","__teactSelectionState","JSON","stringify","updateClassName","inputEl","selectionStateJson","parse","updateStyle","__html","resolveDelegationRegistry","existing","newSet","resolveDelegatedEventTypes","addDelegatedListener","endsWith","extra","className","extraArray","applyExtraStyles","addExtraClass","forceSingle","classNames","split","cn","classList","removeExtraClass","remove","toggleExtraClass","force","toggle","contains","setExtraStyles","styles","standardStyles","setProperty","assign","render","$head","default","teactDefault","Teact","teactDomDefault"],"sourceRoot":""}