!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.teact=t():e.teact=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Teact:()=>ct,TeactDOM:()=>it});var n={};e.r(n),e.d(n,{DEBUG_resolveComponentName:()=>Ee,MountState:()=>O,VirtualElementTypesEnum:()=>M,captureImmediateEffects:()=>re,default:()=>Te,hasElementChanged:()=>ae,isComponentElement:()=>D,isEmptyElement:()=>U,isFragmentElement:()=>_,isParentElement:()=>P,isTagElement:()=>V,isTextElement:()=>F,memo:()=>ye,mountComponent:()=>ie,renderComponent:()=>ce,unmountComponent:()=>ue,useCallback:()=>ge,useEffect:()=>pe,useLayoutEffect:()=>me,useMemo:()=>he,useRef:()=>ve,useState:()=>de});var o={};e.r(o),e.d(o,{addExtraClass:()=>Ze,default:()=>rt,removeExtraClass:()=>et,setExtraStyles:()=>nt,toggleExtraClass:()=>tt});const r=!1,s=!1;function c(e,t){let n,o=!1;return(...r)=>{n=r,o||(o=!0,e((()=>{o=!1,t(...n)})))}}let a,i,u;const l=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let d={};const f=function(e,t,n=!0){let o,r,s;return(...c)=>{r=!0,s=c,o||(n&&(r=!1,e(...s)),o=self.setInterval((()=>{if(!r)return self.clearInterval(o),void(o=void 0);r=!1,e(...s)}),t))}}((function(){p||function(){p=document.createElement("div"),p.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(p);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="ðŸ”„",e.addEventListener("click",(()=>{d={},f()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(d).reduce(((e,[t,{value:n}])=>(l.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e)),[0,0]);p.innerHTML=Object.entries(d).filter((([e,{value:t}])=>!l.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2))).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((([o,{value:r,lastUpdateAt:s}])=>{return[`<div style="background: #ff0000${c=r/(o.includes("renders")?t:n),Math.round(255*c).toString(16).padStart(2,"0")}">`,`  <span${s>e?' style="background: lightgreen"':""}>${o}: ${Math.round(r)}</span>`,"</div>"].join("\n");var c})).join("\n")}),500,!1);let p;function m(e,t=1){const n=Date.now();d[e]?(d[e].value+=t,d[e].lastUpdateAt=n):d[e]={value:t,lastUpdateAt:n},f()}function h(e,t,n="asc"){function o(e,t,n,o){const r=("function"==typeof n?n(e):e[n])||0,s=("function"==typeof n?n(t):t[n])||0;return o?r-s:s-r}if(Array.isArray(t)){const[r,s]=Array.isArray(n)?n:[n,n],[c,a]=t,i="asc"===r,u="asc"===s;return e.sort(((e,t)=>o(e,t,c,i)||o(e,t,a,u)))}const r="asc"===n;return e.sort(((e,n)=>o(e,n,t,r)))}function g(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),v(e instanceof ErrorEvent?e.error||e.message:e.reason))}function v(e){console.error(e)}window.addEventListener("error",g),window.addEventListener("unhandledrejection",g);const y=!s;function E(e,t,n){if(!y)return e();try{return e()}catch(e){return t?.(e),void v(e)}finally{n?.()}}const T=Symbol("SIGNAL_MARK");function b(e){return"function"==typeof e&&T in e}new Map,console.error,new Map;let k="measure";function C(e){k=e}let w=[],S=[],$=[];const x=c((e=>{!function(e,t=!1){a?a.add(e):(a=new Set([e]),requestAnimationFrame((()=>{const e=a;a=void 0,i=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(i?i.add(e):i=new Set([e]),u||(u=window.setTimeout((()=>{const e=i;a&&e.forEach(a.delete,a),i=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),300)))}(e,!0)}),(()=>{const e=w;w=[],e.forEach((e=>{E(e)})),Promise.resolve().then((()=>{C("mutate");const e=S;S=[],e.forEach((e=>{E(e)}))})).then((()=>{C("measure");const e=[];for(const t of $)E((()=>{const n=t();n&&e.push(n)}));return $=[],e})).then((e=>{C("mutate");for(const t of e)E(t)})).then((()=>{C("measure")}))}));var M,O;!function(e){e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment"}(M||(M={})),function(e){e[e.New=0]="New",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted"}(O||(O={}));const N=Symbol("Fragment"),L=7,A=7,j=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let I,R=0;function U(e){return e.type===M.Empty}function F(e){return e.type===M.Text}function V(e){return e.type===M.Tag}function D(e){return e.type===M.Component}function _(e){return e.type===M.Fragment}function P(e){return V(e)||D(e)||_(e)}function W(e,t,...n){return e===N?function(e){return{type:M.Fragment,children:H(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const o={id:++R,$element:void 0,Component:e,name:e.name,props:t,mountState:O.New};return o.$element=z(o),o.$element}(e,t||{},n):function(e,t,n){return{type:M.Tag,tag:e,props:t,children:H(n)}}(e,t||{},n)}function z(e,t){return{type:M.Component,componentInstance:e,props:e.props,children:t?H(t,!0):[]}}function H(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&K(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];Array.isArray(r)?o.push(...H(r,t)):o.push(B(r))}return o}function K(e){return!e&&0!==e}function B(e){return K(e)?{type:M.Empty}:P(e)?e:{type:M.Text,value:String(e)}}const G={TOTAL:{name:"TOTAL",renders:0}},q={},J=20;document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",h(Object.values(G).map((({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}}))),"renders","desc")),console.warn("MEMOS",h(Object.values(q).filter((({calls:e})=>e>=J)).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let X=new Set,Q=new Set,Y=new Map,Z=new Map,ee=new Map,te=new Map,ne=!1;const oe=c((function(e){w.push(e),x()}),(()=>{const e=re();Q=new Set;const t=Array.from(X).sort(((e,t)=>e.id-t.id));X=new Set;const n=Z;Z=new Map,n.forEach((e=>e()));const o=Y;var r;Y=new Map,o.forEach((e=>e())),r=()=>{t.forEach(le),t.forEach((e=>{Q.has(e.id)||function(e){if(e.mountState!==O.Mounted||!e.onUpdate)return;const t=e.$element;ce(e),e.$element!==t&&e.onUpdate()}(e)})),e?.()},S.push(r),x()}));function re(){if(!ne)return ne=!0,se}function se(){const e=te;te=new Map,e.forEach((e=>e()));const t=ee;ee=new Map,t.forEach((e=>e())),ne=!1}function ce(e){Q.add(e.id);const{Component:t,props:n}=e;let o;if(E((()=>{let c;if(I=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),r){const e=Ee(t);G[e]||(G[e]={name:e,renders:0,avgRenderTime:0}),s&&(j.has(e)||console.log(`[Teact] Render ${e}`)),c=performance.now()}if(o=t(n),r){const e=performance.now()-c,n=Ee(t);e>L&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:r}=G[n];G[n].avgRenderTime=(r*o+e)/(o+1),G[n].renders++,G.TOTAL.renders++,s&&(m(`${n} renders`),m(`${n} duration`,e))}}),(()=>{console.error(`[Teact] Error while rendering component ${e.name}`),o=e.renderedValue})),e.mountState===O.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const c=Array.isArray(o)?o:[o];return e.mountState===O.New?e.$element.children=H(c,!0):e.$element=z(e,c),e.$element}function ae(e,t){return typeof e!=typeof t||e.type!==t.type||(F(e)&&F(t)?e.value!==t.value:V(e)&&V(t)?e.tag!==t.tag||e.props.key!==t.props.key:!(!D(e)||!D(t)||e.componentInstance.Component===t.componentInstance.Component&&e.props.key===t.props.key))}function ie(e){return ce(e),e.mountState=O.Mounted,e.$element}function ue(e){e.mountState===O.Mounted&&(Q.add(e.id),e.hooks?.effects?.byCursor.forEach((e=>{e.cleanup&&E(e.cleanup),e.cleanup=void 0,e.releaseSignals?.()})),e.mountState=O.Unmounted,function(e){e.hooks?.effects?.byCursor.forEach((e=>{e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0})),e.hooks?.state?.byCursor.forEach((e=>{e.value=void 0,e.nextValue=void 0,e.setter=void 0})),e.hooks?.memos?.byCursor.forEach((e=>{e.value=void 0,e.dependencies=void 0})),e.hooks?.refs?.byCursor.forEach((e=>{e.current=void 0})),e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.Component=void 0,e.props=void 0,e.onUpdate=void 0}(e))}function le(e){e.mountState===O.Mounted&&e.hooks?.state?.byCursor.forEach((e=>{e.value=e.nextValue}))}function de(e,t){I.hooks||(I.hooks={}),I.hooks.state||(I.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=I.hooks.state,r=I;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{r.mountState!==O.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,X.add(r),oe(),s&&console.log("[Teact.useState]",Ee(r.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),I.hooks.state.cursor++,[o[n].value,o[n].setter]}function fe(e,t,n,o){I.hooks||(I.hooks={}),I.hooks.effects||(I.hooks.effects={cursor:0,byCursor:[]});const{cursor:s,byCursor:c}=I.hooks.effects,a=I,i=()=>E((()=>{const{cleanup:e}=c[s];if(!e)return;let t;if(r&&(t=performance.now()),e(),r){const e=performance.now()-t,n=Ee(a.Component);e>A&&console.warn(`[Teact] Slow cleanup at effect cursor #${s}: ${n}, ${Math.round(e)} ms`)}}),(()=>{console.error(`[Teact] Error in effect cleanup at cursor #${s} in ${a.name}`)}),(()=>{c[s].cleanup=void 0})),u=()=>E((()=>{if(a.mountState===O.Unmounted)return;let e;r&&(e=performance.now());const n=t();if("function"==typeof n&&(c[s].cleanup=n),r){const t=performance.now()-e,n=Ee(a.Component);t>A&&console.warn(`[Teact] Slow effect at cursor #${s}: ${n}, ${Math.round(t)} ms`)}}),(()=>{console.error(`[Teact] Error in effect at cursor #${s} in ${a.name}`)}));function l(){const t=`${a.id}_${s}`;e?(te.set(t,i),ee.set(t,u)):(Z.set(t,i),Y.set(t,u)),oe()}if(n&&c[s]?.dependencies){if(n.some(((e,t)=>e!==c[s].dependencies[t]))){if(o){const e=n.reduce(((e,t,n)=>{const o=c[s].dependencies[n];return t!==o&&e.push(`${n}: ${o} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();const d=!c[s];c[s]={...c[s],dependencies:n,schedule:l},d&&(c[s].releaseSignals=function(){const e=n?.filter(b).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),c[s].schedule()}))));if(e?.length)return()=>{e.forEach((e=>e()))}}()),I.hooks.effects.cursor++}function pe(e,t,n){return fe(!1,e,t,n)}function me(e,t,n){return fe(!0,e,t,n)}function he(e,t,n,o){I.hooks||(I.hooks={}),I.hooks.memos||(I.hooks.memos={cursor:0,byCursor:[]});const{cursor:s,byCursor:c}=I.hooks.memos;let a,{value:i}=c[s]||{};if(r&&o){const e=`${o}#${I.id}`;a=q[e],a||(a={key:e,calls:0,misses:0,hitRate:0},q[e]=a),a.calls++,a.hitRate=(a.calls-a.misses)/a.calls}if(void 0===c[s]||t.length!==c[s].dependencies.length||t.some(((e,t)=>e!==c[s].dependencies[t]))){if(r){if(n){const e=`[Teact.useMemo] ${I.name} (${n}): Update is caused by:`;c[s]?function(e,t,n,o=""){const r=Object.keys(e);r.length===Object.keys(t).length?(console.log(n),r.forEach(((n,r)=>{e[r]!==t[r]&&console.log(o,r,":",e[r],"=>",t[r])}))):console.log(`${n} LENGTH`)}(c[s].dependencies,t,e,n):console.log(`${e} [first render]`)}a&&(a.misses++,a.hitRate=(a.calls-a.misses)/a.calls,a.calls%10==0&&a.calls>=J&&a.hitRate<.25&&console.warn(`[Teact] ${a.key}: Hit rate is ${a.hitRate.toFixed(2)} for ${a.calls} calls`))}i=e()}return c[s]={value:i,dependencies:t},I.hooks.memos.cursor++,i}function ge(e,t,n){return he((()=>e),t,n)}function ve(e){I.hooks||(I.hooks={}),I.hooks.refs||(I.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=I.hooks.refs;return n[t]||(n[t]={current:e}),I.hooks.refs.cursor++,n[t]}function ye(e,t){function n(n){return he((()=>W(e,n)),Object.values(n),t,s?Ee(I.Component):void 0)}return n.DEBUG_contentComponentName=Ee(e),n}function Ee(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:t+(n?`>${n}`:"")}const Te={createElement:W,Fragment:N},be=new Set(["scroll","mouseenter","mouseleave","load"]),ke={},Ce={},we=new Map;function Se(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function $e(e,t,n){return!n&&!be.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function xe(e,t){ke[e]--,ke[e]||document.removeEventListener(e,Me),Ce[e].delete(t),we.get(t).delete(e)}function Me(e){const t=Ce[e.type];if(t){let n=!1,o=e.target;const r=()=>{n=!0},s=()=>{e.preventDefault()},c=new Proxy(e,{get:(e,t)=>"currentTarget"===t?o:"stopPropagation"===t||"stopImmediatePropagation"===t?r:"preventDefault"===t?s:Reflect.get(e,t)});for(;o&&o!==document.body;){const e=t.get(o);if(e&&(e(c),n))return;o=o.parentNode}}}r&&document.addEventListener("dblclick",(()=>{const e=Object.keys(ke).length,t=Object.values(ke).reduce(((e,t)=>e+t),0),n=Object.keys(Ce).length,o=Object.values(Ce).reduce(((e,t)=>e+t.size),0),r=we.size,s=Array.from(we.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:o,delegatedEventTypesCount:s,delegationRegistriesCount:n,delegationElementsCount:r,documentListenersCount:e})}));const Oe=new Set(["key","ref","teactFastList","teactOrderKey"]),Ne=new Set(["dir","role","form"]),Le=["INPUT","TEXTAREA","SELECT"],Ae={autoPlay:"autoplay",autoComplete:"autocomplete"},je="__indexKey#",Ie=new WeakMap,Re=new WeakMap,Ue=new WeakMap;function Fe(e,t,n,o,s,c={}){const{skipComponentUpdate:a,fragment:i}=c;let{nextSibling:u}=c;const l=t&&D(t),d=n&&D(n),f=n,p=t&&!l&&_(t),m=n&&!d&&_(n);if(!a&&l&&d&&!ae(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,ce(e.componentInstance)}(t,n)),!a&&d&&n.componentInstance.mountState===O.Mounted&&De(e,n,o,s),t===n)return n;if(r&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(d||m)d&&(n=Ve(e,n,o,s)),_e(e,n,{nextSibling:u,fragment:i});else if(1===o.children.length&&F(f))e.textContent="value"in f?f.value:"",f.target=e.firstChild;else{const t=Pe(f);f.target=t,He(i||e,t,u),V(f)&&qe(f,t)}else if(t&&!n)We(e,t,void 0);else if(t&&n)if(ae(t,n))if(u||(u=Ke(t)),d||m)d&&(n=Ve(e,n,o,s)),We(e,t,void 0),_e(e,n,{nextSibling:u,fragment:i});else if(1!==o.children.length||!F(f)||!F(t)&&!U(t)||e.firstChild&&e.firstChild!==t.target){const n=Pe(f);f.target=n,We(e,t,n,u),V(f)&&qe(f,n)}else{const t="value"in f?f.value:"";e.firstChild?e.firstChild.nodeValue=t:e.textContent=t,f.target=e.firstChild}else if(l&&d||p&&m)n.children=Be(t,n,e,u,c.forceMoveToEnd);else{const o=t,r=o.target;if(f.target=r,o.target=void 0,V(t)){const o=n;qe(t,void 0),qe(o,r),(u||c.forceMoveToEnd)&&He(e,r,u),function(e,t,n){Je(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);o.forEach((([e,o])=>{const r=t.props[e];void 0!==o&&(void 0===r||o!==r&&e.startsWith("on"))&&function(e,t,n){"className"===t?Qe(e,""):"value"===t?e.value="":"style"===t?Ye(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n,o=!1){const r=Se(t,e);$e(r,e,o)?xe(r,e):e.removeEventListener(r,n,o)}(e,t,n,t.endsWith("Capture")):Oe.has(t)||e.removeAttribute(t)}(n,e,o)})),r.forEach((([t,o])=>{const r=e.props[t];void 0!==o&&o!==r&&Xe(n,t,o)}))}(t,o,r),Be(t,o,r)}}return n}function Ve(e,t,n,o){const{componentInstance:r}=t;if(r.mountState===O.New){De(e,t=ie(r),n,o);const s=t.children[0];D(s)&&(t.children[0]=Ve(e,s,t,0))}return t}function De(e,t,n,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=Fe(e,n.children[o],r.$element,n,o,{skipComponentUpdate:!0})}}function _e(e,t,n){const{children:o}=t;for(let r=0,s=o.length;r<s;r++){const s=o[r],c=Fe(e,void 0,s,t,r,n);c!==s&&o.splice(r,1,c)}}function Pe(e){if(U(e))return document.createTextNode("");if(F(e))return document.createTextNode(e.value);const{tag:t,props:n,children:o}=e,r=document.createElement(t);Je(t,n);for(const e in n)n.hasOwnProperty(e)&&void 0!==n[e]&&Xe(r,e,n[e]);!function(e,t){Le.includes(e.tagName)&&(t.defaultValue&&Xe(e,"value",t.defaultValue),t.defaultChecked&&Xe(e,"checked",t.defaultChecked))}(r,n);for(let t=0,n=o.length;t<n;t++){const n=o[t],s=Fe(r,void 0,n,e,t);s!==n&&o.splice(t,1,s)}return r}function We(e,t,n,o){const r=D(t),s=!r&&_(t);r||s?(r&&ue(t.componentInstance),function(e,t){for(const n of t.children)Fe(e,n,void 0,t,-1)}(e,t),n&&He(e,n,o)):(n?e.replaceChild(n,t.target):e.removeChild(t.target),ze(t))}function ze(e){if(D(e))ue(e.componentInstance);else if(!_(e)&&(V(e)&&(Re.delete(e.target),function(e){const t=we.get(e);t&&(t.forEach((t=>xe(t,e))),we.delete(e))}(e.target),qe(e,void 0)),e.target=void 0,!P(e)))return;for(const t of e.children)ze(t)}function He(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function Ke(e){return D(e)||_(e)?Ke(e.children[e.children.length-1]):e.target.nextSibling||void 0}function Be(e,t,n,o,s=!1){if(r&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(n=t,Array.from(new Set(n))).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t))),new Error("[Teact] Children keys are not unique")}var n}(t.children),"props"in t&&t.props.teactFastList)return function(e,t,n){const o=new Set(t.children.map((e=>{const t="props"in e?e.props.key:void 0;if(r&&P(e)&&(null==t&&console.warn("Missing `key` in `teactFastList`"),_(e)))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");return t})));let s=0;const c=e.children.reduce(((e,r,c)=>{let a="props"in r?r.props.key:void 0;const i=null!=a;if(i&&!o.has(a))return Fe(n,r,void 0,t,-1),e;if(!i){const o=t.children[c],s=o&&"props"in o?o.props.key:void 0;if(!o||s)return Fe(n,r,void 0,t,-1),e;a=`${je}${c}`}return e[a]={$element:r,index:s++,orderKey:"props"in r?r.props.teactOrderKey:void 0},e}),{});let a,i,u=[],l=0;return t.children.forEach(((e,o)=>{const r="props"in e?e.props.key:`${je}${o}`,s=c[r];if(!s)return a||(a=[],i=o),void a.push(e);a&&(u=u.concat(Ge(a,i,n,t)),a=void 0,i=void 0);const d="props"in e?e.props.teactOrderKey:void 0,f=s.index!==l&&(!d||s.orderKey!==d),p=f&&l>s.index;f&&!p||l++;const m=n.childNodes[p?o+1:o],h=f?m?{nextSibling:m}:{forceMoveToEnd:!0}:void 0;u.push(Fe(n,s.$element,e,t,o,h))})),a&&(u=u.concat(Ge(a,i,n,t))),u}(e,t,n);const c=e.children,a=t.children,i=c.length,u=a.length,l=Math.max(i,u),d=u>i?document.createDocumentFragment():void 0,f=e.children[i-1],p=d&&(o||(f?Ke(f):void 0));for(let e=0;e<l;e++){const r=Fe(n,c[e],a[e],t,e,e>=i?{fragment:d}:{nextSibling:o,forceMoveToEnd:s});r&&r!==a[e]&&a.splice(e,1,r)}return d&&He(n,d,p),a}function Ge(e,t,n,o){const r=n.childNodes[t];if(1===e.length)return[Fe(n,void 0,e[0],o,t,{nextSibling:r})];const s=document.createDocumentFragment(),c=e.map(((e,r)=>Fe(n,void 0,e,o,t+r,{fragment:s})));return He(n,s,r),c}function qe(e,t){const{ref:n}=e.props;"object"==typeof n?n.current=t:"function"==typeof n&&n(t)}function Je(e,t){const n=void 0!==t.value,o=void 0!==t.checked;if(!n&&!o||!Le.includes(e.toUpperCase()))return;const{value:r,checked:s,onInput:c,onChange:a}=t;t.onChange=void 0,t.onInput=e=>{if(c?.(e),a?.(e),void 0!==r&&r!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,o=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=r,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const r={selectionStart:t,selectionEnd:n,isCaretAtEnd:o};e.currentTarget.dataset.__teactSelectionState=JSON.stringify(r)}}void 0!==s&&(e.currentTarget.checked=s)}}function Xe(e,t,n){if("className"===t)Qe(e,n);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset.__teactSelectionState;if(e){const{selectionStart:n,selectionEnd:o,isCaretAtEnd:r}=JSON.parse(e);if(r){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof o&&t.setSelectionRange(n,o)}}}else"style"===t?Ye(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n,o=!1){const r=Se(t,e);$e(r,e,o)?function(e,t,n){ke[e]||(ke[e]=0,document.addEventListener(e,Me)),function(e){return Ce[e]||(Ce[e]=new Map),Ce[e]}(e).set(t,n),function(e){const t=we.get(e);if(t)return t;const n=new Set;return we.set(e,n),n}(t).add(e),ke[e]++}(r,e,n):e.addEventListener(r,n,o)}(e,t,n,t.endsWith("Capture")):t.startsWith("data-")||t.startsWith("aria-")||Ne.has(t)?e.setAttribute(t,n):Oe.has(t)||(e[Ae[t]||t]=n)}function Qe(e,t){const n=Re.get(e);if(!n)return void(e.className=t);const o=Array.from(n);t&&o.push(t),e.className=o.join(" ")}function Ye(e,t){e.style.cssText=t,Ue.get(e)&&ot(e)}function Ze(e,t,n=!1){if(!n){const n=t.split(" ");if(n.length>1)return void n.forEach((t=>{Ze(e,t,!0)}))}e.classList.add(t);const o=Re.get(e);o?o.add(t):Re.set(e,new Set([t]))}function et(e,t,n=!1){if(!n){const n=t.split(" ");if(n.length>1)return void n.forEach((t=>{et(e,t,!0)}))}e.classList.remove(t);const o=Re.get(e);o&&(o.delete(t),o.size||Re.delete(e))}function tt(e,t,n,o=!1){if(!o){const o=t.split(" ");if(o.length>1)return void o.forEach((t=>{tt(e,t,n,!0)}))}e.classList.toggle(t,n),e.classList.contains(t)?Ze(e,t):et(e,t)}function nt(e,t){Ue.set(e,t),ot(e)}function ot(e){const t=Object.entries(Ue.get(e)).reduce(((t,[n,o])=>(n.startsWith("--")?e.style.setProperty(n,o):t[n]=o,t)),{});Object.assign(e.style,t)}const rt={render:function(e,t){Ie.has(t)||Ie.set(t,{children:[]});const n=re(),o=Ie.get(t),r=Fe(t,o.children[0],e,o,0);n?.(),o.children=r?[r]:[]}},{default:st,...ct}=n;Object.assign(ct,st);const{default:at,...it}=o;return Object.assign(it,at),t})()));