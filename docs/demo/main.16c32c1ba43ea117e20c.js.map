{"version":3,"file":"main.16c32c1ba43ea117e20c.js","mappings":"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","sources":["webpack://teact/./src/config.ts","webpack://teact/./src/teact/dom-events.ts","webpack://teact/./src/teact/teact-dom.ts","webpack://teact/./src/teact/teact.ts","webpack://teact/./src/util/arePropsShallowEqual.ts","webpack://teact/./src/util/generateIdFor.ts","webpack://teact/./src/util/handleError.ts","webpack://teact/./src/util/iteratees.ts","webpack://teact/./src/util/schedulers.ts","webpack://teact/webpack/bootstrap","webpack://teact/webpack/runtime/define property getters","webpack://teact/webpack/runtime/hasOwnProperty shorthand","webpack://teact/webpack/runtime/make namespace object","webpack://teact/./demo/index.tsx"],"sourcesContent":["export const DEBUG = true;\nexport const DEBUG_MORE = false;\n","import { DEBUG } from '../config';\n\ntype Handler = (e: Event) => void;\ntype DelegationRegistry = Map<HTMLElement, Handler>;\n\nconst NON_BUBBLEABLE_EVENTS = new Set(['scroll', 'mouseenter', 'mouseleave', 'load']);\n\nconst documentEventCounters: Record<string, number> = {};\nconst delegationRegistryByEventType: Record<string, DelegationRegistry> = {};\nconst delegatedEventTypesByElement = new Map<HTMLElement, Set<string>>();\n\nexport function addEventListener(element: HTMLElement, propName: string, handler: Handler, asCapture = false) {\n  const eventType = resolveEventType(propName, element);\n  if (canUseEventDelegation(eventType, element, asCapture)) {\n    addDelegatedListener(eventType, element, handler);\n  } else {\n    element.addEventListener(eventType, handler, asCapture);\n  }\n}\n\nexport function removeEventListener(element: HTMLElement, propName: string, handler: Handler, asCapture = false) {\n  const eventType = resolveEventType(propName, element);\n  if (canUseEventDelegation(eventType, element, asCapture)) {\n    removeDelegatedListener(eventType, element);\n  } else {\n    element.removeEventListener(eventType, handler, asCapture);\n  }\n}\n\nfunction resolveEventType(propName: string, element: HTMLElement) {\n  const eventType = propName\n    .replace(/^on/, '')\n    .replace(/Capture$/, '').toLowerCase();\n\n  if (eventType === 'change' && element.tagName !== 'SELECT') {\n    // React behavior repeated here.\n    // https://stackoverflow.com/questions/38256332/in-react-whats-the-difference-between-onchange-and-oninput\n    return 'input';\n  }\n\n  if (eventType === 'doubleclick') {\n    return 'dblclick';\n  }\n\n  // Replace focus/blur by their \"bubbleable\" versions\n  if (eventType === 'focus') {\n    return 'focusin';\n  }\n\n  if (eventType === 'blur') {\n    return 'focusout';\n  }\n\n  return eventType;\n}\n\nfunction canUseEventDelegation(realEventType: string, element: HTMLElement, asCapture: boolean) {\n  return (\n    !asCapture\n    && !NON_BUBBLEABLE_EVENTS.has(realEventType)\n    && element.tagName !== 'VIDEO'\n    && element.tagName !== 'IFRAME'\n  );\n}\n\nfunction addDelegatedListener(eventType: string, element: HTMLElement, handler: Handler) {\n  if (!documentEventCounters[eventType]) {\n    documentEventCounters[eventType] = 0;\n    document.addEventListener(eventType, handleEvent);\n  }\n\n  resolveDelegationRegistry(eventType).set(element, handler);\n  resolveDelegatedEventTypes(element).add(eventType);\n  documentEventCounters[eventType]++;\n}\n\nfunction removeDelegatedListener(eventType: string, element: HTMLElement) {\n  documentEventCounters[eventType]--;\n  if (!documentEventCounters[eventType]) {\n    // Synchronous deletion on 0 will cause perf degradation in the case of 1 element\n    // which is not a real case, so it's ok to do it this way\n    document.removeEventListener(eventType, handleEvent);\n  }\n\n  delegationRegistryByEventType[eventType].delete(element);\n  delegatedEventTypesByElement.get(element)!.delete(eventType);\n}\n\nexport function removeAllDelegatedListeners(element: HTMLElement) {\n  const eventTypes = delegatedEventTypesByElement.get(element);\n  if (!eventTypes) {\n    return;\n  }\n\n  eventTypes.forEach((eventType) => removeDelegatedListener(eventType, element));\n  delegatedEventTypesByElement.delete(element);\n}\n\nfunction handleEvent(realEvent: Event) {\n  const events = delegationRegistryByEventType[realEvent.type];\n\n  if (events) {\n    let furtherCallsPrevented = false;\n    let current: HTMLElement = realEvent.target as HTMLElement;\n\n    const stopPropagation = () => {\n      furtherCallsPrevented = true;\n    };\n\n    const preventDefault = () => {\n      realEvent.preventDefault();\n    };\n\n    // Proxy is a simplest way to provide an access to the event property\n    const event = new Proxy(realEvent, {\n      get(target, p) {\n        if (p === 'currentTarget') {\n          return current;\n        }\n        if (p === 'stopPropagation' || p === 'stopImmediatePropagation') {\n          return stopPropagation;\n        }\n        if (p === 'preventDefault') {\n          // \"this\" is changed to proxy and one can't call methods via it\n          return preventDefault;\n        }\n        return Reflect.get(target, p);\n      },\n    });\n\n    // This can also be limited by teact root\n    while (current && current !== document.body) {\n      const handler = events.get(current);\n      if (handler) {\n        handler(event);\n        if (furtherCallsPrevented) {\n          return;\n        }\n      }\n\n      current = current.parentNode as HTMLElement;\n    }\n  }\n}\n\nfunction resolveDelegationRegistry(eventType: string) {\n  if (!delegationRegistryByEventType[eventType]) {\n    delegationRegistryByEventType[eventType] = new Map();\n  }\n\n  return delegationRegistryByEventType[eventType];\n}\n\nfunction resolveDelegatedEventTypes(element: HTMLElement) {\n  const existing = delegatedEventTypesByElement.get(element);\n  if (existing) {\n    return existing;\n  }\n\n  const newSet = new Set<string>();\n  delegatedEventTypesByElement.set(element, newSet);\n\n  return newSet;\n}\n\nif (DEBUG) {\n  document.addEventListener('dblclick', () => {\n    const documentListenersCount = Object.keys(documentEventCounters).length;\n    const delegatedHandlersCount1 = Object.values(documentEventCounters)\n      .reduce((acc, counter) => acc + counter, 0);\n    const delegationRegistriesCount = Object.keys(delegationRegistryByEventType).length;\n    const delegatedHandlersCount2 = Object.values(delegationRegistryByEventType)\n      .reduce((acc, delegationRegistry) => acc + delegationRegistry.size, 0);\n    const delegationElementsCount = delegatedEventTypesByElement.size;\n    const delegatedEventTypesCount = Array.from(delegatedEventTypesByElement.values())\n      .reduce((acc, eventTypes) => acc + eventTypes.size, 0);\n\n    // eslint-disable-next-line no-console\n    console.warn('DELEGATED EVENTS STATS', {\n      delegatedHandlersCount1,\n      delegatedHandlersCount2,\n      delegatedEventTypesCount,\n      delegationRegistriesCount,\n      delegationElementsCount,\n      documentListenersCount,\n    });\n  });\n}\n","import type { ChangeEvent } from 'react';\nimport type {\n  VirtualElement,\n  VirtualElementComponent,\n  VirtualElementTag,\n  VirtualElementParent,\n  VirtualElementChildren,\n  VirtualElementReal,\n  VirtualElementFragment,\n} from './teact';\nimport {\n  hasElementChanged,\n  isComponentElement,\n  isTagElement,\n  isParentElement,\n  isTextElement,\n  isEmptyElement,\n  mountComponent,\n  renderComponent,\n  unmountComponent,\n  isFragmentElement,\n} from './teact';\nimport generateIdFor from '../util/generateIdFor';\nimport { DEBUG } from '../config';\nimport { addEventListener, removeAllDelegatedListeners, removeEventListener } from './dom-events';\nimport { unique } from '../util/iteratees';\n\ntype VirtualDomHead = {\n  children: [VirtualElement] | [];\n};\n\nconst FILTERED_ATTRIBUTES = new Set(['key', 'ref', 'teactFastList', 'teactOrderKey']);\nconst HTML_ATTRIBUTES = new Set(['dir', 'role', 'form']);\nconst CONTROLLABLE_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\nconst MAPPED_ATTRIBUTES: { [k: string]: string } = {\n  autoPlay: 'autoplay',\n  autoComplete: 'autocomplete',\n};\nconst INDEX_KEY_PREFIX = '__indexKey#';\n\nconst headsByElement: Record<string, VirtualDomHead> = {};\n\nfunction render($element: VirtualElement | undefined, parentEl: HTMLElement) {\n  let headId = parentEl.getAttribute('data-teact-head-id');\n  if (!headId) {\n    headId = generateIdFor(headsByElement);\n    headsByElement[headId] = { children: [] };\n    parentEl.setAttribute('data-teact-head-id', headId);\n  }\n\n  const $head = headsByElement[headId];\n  const $newElement = renderWithVirtual(parentEl, $head.children[0], $element, $head, 0);\n  $head.children = $newElement ? [$newElement] : [];\n\n  return undefined;\n}\n\nfunction renderWithVirtual<T extends VirtualElement | undefined>(\n  parentEl: HTMLElement,\n  $current: VirtualElement | undefined,\n  $new: T,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n  options: {\n    skipComponentUpdate?: boolean;\n    nextSibling?: ChildNode;\n    fragment?: DocumentFragment;\n  } = {},\n): T {\n  const { skipComponentUpdate, fragment } = options;\n  let { nextSibling } = options;\n\n  const isCurrentComponent = $current && isComponentElement($current);\n  const isNewComponent = $new && isComponentElement($new);\n  const $newAsReal = $new as VirtualElementReal;\n\n  const isCurrentFragment = $current && !isCurrentComponent && isFragmentElement($current);\n  const isNewFragment = $new && !isNewComponent && isFragmentElement($new);\n\n  if (\n    !skipComponentUpdate\n    && isCurrentComponent && isNewComponent\n    && !hasElementChanged($current!, $new!)\n  ) {\n    $new = updateComponent($current, $new as VirtualElementComponent) as typeof $new;\n  }\n\n  // Parent element may have changed, so we need to update the listener closure.\n  if (!skipComponentUpdate && isNewComponent && ($new as VirtualElementComponent).componentInstance.isMounted) {\n    setupComponentUpdateListener(parentEl, $new as VirtualElementComponent, $parent, index);\n  }\n\n  if ($current === $new) {\n    return $new;\n  }\n\n  if (DEBUG && $new) {\n    const newTarget = 'target' in $new && $new.target;\n    if (newTarget && (!$current || ('target' in $current && newTarget !== $current.target))) {\n      throw new Error('[Teact] Cached virtual element was moved within tree');\n    }\n  }\n\n  if (!$current && $new) {\n    if (isNewComponent || isNewFragment) {\n      if (isNewComponent) {\n        $new = initComponent(parentEl, $new as VirtualElementComponent, $parent, index) as unknown as typeof $new;\n      }\n\n      mountChildren(parentEl, $new as VirtualElementComponent | VirtualElementFragment, { nextSibling, fragment });\n    } else {\n      const node = createNode($newAsReal);\n      $newAsReal.target = node;\n      insertBefore(fragment || parentEl, node, nextSibling);\n    }\n  } else if ($current && !$new) {\n    remount(parentEl, $current, undefined);\n  } else if ($current && $new) {\n    if (hasElementChanged($current, $new)) {\n      if (!nextSibling) {\n        nextSibling = getNextSibling($current);\n      }\n\n      if (isNewComponent || isNewFragment) {\n        if (isNewComponent) {\n          $new = initComponent(parentEl, $new as VirtualElementComponent, $parent, index) as unknown as typeof $new;\n        }\n\n        remount(parentEl, $current, undefined);\n        mountChildren(parentEl, $new as VirtualElementComponent | VirtualElementFragment, { nextSibling, fragment });\n      } else {\n        const node = createNode($newAsReal);\n        $newAsReal.target = node;\n        remount(parentEl, $current, node, nextSibling);\n      }\n    } else {\n      const isComponent = isCurrentComponent && isNewComponent;\n      const isFragment = isCurrentFragment && isNewFragment;\n\n      if (isComponent || isFragment) {\n        ($new as VirtualElementComponent | VirtualElementFragment).children = renderChildren(\n          $current,\n          $new as VirtualElementComponent | VirtualElementFragment,\n          parentEl,\n          nextSibling,\n        );\n      } else {\n        const $currentAsReal = $current as VirtualElementReal;\n        const currentTarget = $currentAsReal.target!;\n\n        $newAsReal.target = currentTarget;\n        $currentAsReal.target = undefined; // Help GC\n\n        const isTag = isTagElement($current);\n        if (isTag) {\n          const $newAsTag = $new as VirtualElementTag;\n\n          $newAsTag.props.ref = $current.props.ref;\n\n          if (nextSibling) {\n            insertBefore(parentEl, currentTarget, nextSibling);\n          }\n\n          updateAttributes($current, $newAsTag, currentTarget as HTMLElement);\n\n          $newAsTag.children = renderChildren(\n            $current,\n            $newAsTag,\n            currentTarget as HTMLElement,\n          );\n        }\n      }\n    }\n  }\n\n  return $new;\n}\n\nfunction initComponent(\n  parentEl: HTMLElement,\n  $element: VirtualElementComponent,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n) {\n  const { componentInstance } = $element;\n\n  if (!componentInstance.isMounted) {\n    $element = mountComponent(componentInstance);\n    setupComponentUpdateListener(parentEl, $element, $parent, index);\n\n    const $firstChild = $element.children[0];\n    if (isComponentElement($firstChild)) {\n      $element.children = [initComponent(parentEl, $firstChild, $element, 0)];\n    }\n\n    componentInstance.isMounted = true;\n  }\n\n  return $element;\n}\n\nfunction updateComponent($current: VirtualElementComponent, $new: VirtualElementComponent) {\n  $current.componentInstance.props = $new.componentInstance.props;\n\n  return renderComponent($current.componentInstance);\n}\n\nfunction setupComponentUpdateListener(\n  parentEl: HTMLElement,\n  $element: VirtualElementComponent,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n) {\n  const { componentInstance } = $element;\n\n  componentInstance.onUpdate = () => {\n    $parent.children[index] = renderWithVirtual(\n      parentEl,\n      $parent.children[index],\n      componentInstance.$element,\n      $parent,\n      index,\n      { skipComponentUpdate: true },\n    );\n  };\n}\n\nfunction mountChildren(\n  parentEl: HTMLElement,\n  $element: VirtualElementComponent | VirtualElementFragment,\n  options: {\n    nextSibling?: ChildNode;\n    fragment?: DocumentFragment;\n  },\n) {\n  $element.children = $element.children.map(($child, i) => {\n    return renderWithVirtual(parentEl, undefined, $child, $element, i, options);\n  });\n}\n\nfunction unmountChildren(parentEl: HTMLElement, $element: VirtualElementComponent | VirtualElementFragment) {\n  $element.children.forEach(($child) => {\n    renderWithVirtual(parentEl, $child, undefined, $element, -1);\n  });\n}\n\nfunction createNode($element: VirtualElementReal): Node {\n  if (isEmptyElement($element)) {\n    return document.createTextNode('');\n  }\n\n  if (isTextElement($element)) {\n    return document.createTextNode($element.value);\n  }\n\n  const { tag, props, children = [] } = $element;\n  const element = document.createElement(tag);\n\n  if (typeof props.ref === 'object') {\n    props.ref.current = element;\n  }\n\n  processControlled(tag, props);\n\n  Object.entries(props).forEach(([key, value]) => {\n    if (props[key] !== undefined) {\n      setAttribute(element, key, value);\n    }\n  });\n\n  processUncontrolledOnMount(element, props);\n\n  $element.children = children.map(($child, i) => (\n    renderWithVirtual(element, undefined, $child, $element, i)\n  ));\n\n  return element;\n}\n\nfunction remount(\n  parentEl: HTMLElement,\n  $current: VirtualElement,\n  node: Node | undefined,\n  componentNextSibling?: ChildNode,\n) {\n  const isComponent = isComponentElement($current);\n  const isFragment = !isComponent && isFragmentElement($current);\n\n  if (isComponent || isFragment) {\n    if (isComponent) {\n      unmountComponent($current.componentInstance);\n    }\n\n    unmountChildren(parentEl, $current);\n\n    if (node) {\n      insertBefore(parentEl, node, componentNextSibling);\n    }\n  } else {\n    if (node) {\n      parentEl.replaceChild(node, $current.target!);\n    } else {\n      parentEl.removeChild($current.target!);\n    }\n\n    unmountRealTree($current);\n  }\n}\n\nexport function unmountRealTree($element: VirtualElement) {\n  if (isComponentElement($element)) {\n    unmountComponent($element.componentInstance);\n  } else {\n    if (isTagElement($element)) {\n      if ($element.target) {\n        removeAllDelegatedListeners($element.target as HTMLElement);\n\n        if ($element.props.ref?.current === $element.target) {\n          $element.props.ref.current = undefined;\n        }\n      }\n    }\n\n    if ($element.target) {\n      $element.target = undefined; // Help GC\n    }\n\n    if (!isParentElement($element)) {\n      return;\n    }\n  }\n\n  $element.children.forEach(unmountRealTree);\n}\n\nfunction insertBefore(parentEl: HTMLElement | DocumentFragment, node: Node, nextSibling?: ChildNode) {\n  if (nextSibling) {\n    parentEl.insertBefore(node, nextSibling);\n  } else {\n    parentEl.appendChild(node);\n  }\n}\n\nfunction getNextSibling($current: VirtualElement): ChildNode | undefined {\n  if (isComponentElement($current) || isFragmentElement($current)) {\n    const lastChild = $current.children[$current.children.length - 1];\n    return getNextSibling(lastChild);\n  }\n\n  const target = $current.target!;\n  const { nextSibling } = target;\n  return nextSibling || undefined;\n}\n\nfunction renderChildren(\n  $current: VirtualElementParent, $new: VirtualElementParent, currentEl: HTMLElement, nextSibling?: ChildNode,\n) {\n  if (DEBUG) {\n    DEBUG_checkKeyUniqueness($new.children);\n  }\n\n  if (('props' in $new) && $new.props.teactFastList) {\n    return renderFastListChildren($current, $new, currentEl);\n  }\n\n  const currentChildrenLength = $current.children.length;\n  const newChildrenLength = $new.children.length;\n  const maxLength = Math.max(currentChildrenLength, newChildrenLength);\n  const newChildren = [];\n\n  const fragment = newChildrenLength > currentChildrenLength ? document.createDocumentFragment() : undefined;\n  const lastCurrentChild = $current.children[currentChildrenLength - 1];\n  const fragmentNextSibling = nextSibling || (\n    newChildrenLength > currentChildrenLength && lastCurrentChild ? getNextSibling(lastCurrentChild) : undefined\n  );\n\n  for (let i = 0; i < maxLength; i++) {\n    const $newChild = renderWithVirtual(\n      currentEl,\n      $current.children[i],\n      $new.children[i],\n      $new,\n      i,\n      i >= currentChildrenLength ? { fragment } : { nextSibling },\n    );\n\n    if ($newChild) {\n      newChildren.push($newChild);\n    }\n  }\n\n  if (fragment) {\n    insertBefore(currentEl, fragment, fragmentNextSibling);\n  }\n\n  return newChildren;\n}\n\n// This function allows to prepend/append a bunch of new DOM nodes to the top/bottom of preserved ones.\n// It also allows to selectively move particular preserved nodes within their DOM list.\nfunction renderFastListChildren($current: VirtualElementParent, $new: VirtualElementParent, currentEl: HTMLElement) {\n  const newKeys = new Set(\n    $new.children.map(($newChild) => {\n      const key = 'props' in $newChild ? $newChild.props.key : undefined;\n\n      if (DEBUG && isParentElement($newChild)) {\n        // eslint-disable-next-line no-null/no-null\n        if (key === undefined || key === null) {\n          // eslint-disable-next-line no-console\n          console.warn('Missing `key` in `teactFastList`');\n        }\n\n        if (isFragmentElement($newChild)) {\n          throw new Error('[Teact] Fragment can not be child of container with `teactFastList`');\n        }\n      }\n\n      return key;\n    }),\n  );\n\n  // Build a collection of old children that also remain in the new list\n  let currentRemainingIndex = 0;\n  const remainingByKey = $current.children\n    .reduce((acc, $currentChild, i) => {\n      let key = 'props' in $currentChild ? $currentChild.props.key : undefined;\n      // eslint-disable-next-line no-null/no-null\n      const isKeyPresent = key !== undefined && key !== null;\n\n      // First we process removed children\n      if (isKeyPresent && !newKeys.has(key)) {\n        renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n\n        return acc;\n      } else if (!isKeyPresent) {\n        const $newChild = $new.children[i];\n        const newChildKey = ($newChild && 'props' in $newChild) ? $newChild.props.key : undefined;\n        // If a non-key element remains at the same index we preserve it with a virtual `key`\n        if ($newChild && !newChildKey) {\n          key = `${INDEX_KEY_PREFIX}${i}`;\n          // Otherwise, we just remove it\n        } else {\n          renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n\n          return acc;\n        }\n      }\n\n      // Then we build up info about remaining children\n      acc[key] = {\n        $element: $currentChild,\n        index: currentRemainingIndex++,\n        orderKey: 'props' in $currentChild ? $currentChild.props.teactOrderKey : undefined,\n      };\n      return acc;\n    }, {} as Record<string, { $element: VirtualElement; index: number; orderKey?: number }>);\n\n  let newChildren: VirtualElement[] = [];\n\n  let fragmentElements: VirtualElement[] | undefined;\n  let fragmentIndex: number | undefined;\n\n  let currentPreservedIndex = 0;\n\n  $new.children.forEach(($newChild, i) => {\n    const key = 'props' in $newChild ? $newChild.props.key : `${INDEX_KEY_PREFIX}${i}`;\n    const currentChildInfo = remainingByKey[key];\n\n    if (!currentChildInfo) {\n      if (!fragmentElements) {\n        fragmentElements = [];\n        fragmentIndex = i;\n      }\n\n      fragmentElements.push($newChild);\n      return;\n    }\n\n    // This prepends new children to the top\n    if (fragmentElements) {\n      newChildren = newChildren.concat(renderFragment(fragmentElements, fragmentIndex!, currentEl, $new));\n      fragmentElements = undefined;\n      fragmentIndex = undefined;\n    }\n\n    // Now we check if a preserved node was moved within preserved list\n    const newOrderKey = 'props' in $newChild ? $newChild.props.teactOrderKey : undefined;\n    // That is indicated by a changed `teactOrderKey` value\n    const shouldMoveNode = (\n      currentChildInfo.index !== currentPreservedIndex && currentChildInfo.orderKey !== newOrderKey\n    );\n    const isMovingDown = shouldMoveNode && currentPreservedIndex > currentChildInfo.index;\n\n    if (!shouldMoveNode || isMovingDown) {\n      currentPreservedIndex++;\n    }\n\n    newChildren.push(\n      renderWithVirtual(currentEl, currentChildInfo.$element, $newChild, $new, i, {\n        // `+ 1` is needed because before moving down the node still takes place above\n        nextSibling: shouldMoveNode ? currentEl.childNodes[isMovingDown ? i + 1 : i] : undefined,\n      }),\n    );\n  });\n\n  // This appends new children to the bottom\n  if (fragmentElements) {\n    newChildren = newChildren.concat(renderFragment(fragmentElements, fragmentIndex!, currentEl, $new));\n  }\n\n  return newChildren;\n}\n\nfunction renderFragment(\n  elements: VirtualElement[], fragmentIndex: number, parentEl: HTMLElement, $parent: VirtualElementParent,\n) {\n  const nextSibling = parentEl.childNodes[fragmentIndex];\n\n  if (elements.length === 1) {\n    return [renderWithVirtual(parentEl, undefined, elements[0], $parent, fragmentIndex, { nextSibling })];\n  }\n\n  const fragment = document.createDocumentFragment();\n  const newChildren = elements.map(($element, i) => (\n    renderWithVirtual(parentEl, undefined, $element, $parent, fragmentIndex + i, { fragment })\n  ));\n\n  insertBefore(parentEl, fragment, nextSibling);\n\n  return newChildren;\n}\n\nfunction processControlled(tag: string, props: AnyLiteral) {\n  const isValueControlled = props.value !== undefined;\n  const isCheckedControlled = props.checked !== undefined;\n  const isControlled = (isValueControlled || isCheckedControlled) && CONTROLLABLE_TAGS.includes(tag.toUpperCase());\n  if (!isControlled) {\n    return;\n  }\n\n  const {\n    value, checked, onInput, onChange,\n  } = props;\n\n  props.onChange = undefined;\n  props.onInput = (e: ChangeEvent<HTMLInputElement>) => {\n    onInput?.(e);\n    onChange?.(e);\n\n    if (value !== undefined) {\n      e.currentTarget.value = value;\n    }\n\n    if (checked !== undefined) {\n      e.currentTarget.checked = checked;\n    }\n  };\n}\n\nfunction processUncontrolledOnMount(element: HTMLElement, props: AnyLiteral) {\n  if (!CONTROLLABLE_TAGS.includes(element.tagName)) {\n    return;\n  }\n\n  if (props.defaultValue) {\n    setAttribute(element, 'value', props.defaultValue);\n  }\n\n  if (props.defaultChecked) {\n    setAttribute(element, 'checked', props.defaultChecked);\n  }\n}\n\nfunction updateAttributes($current: VirtualElementTag, $new: VirtualElementTag, element: HTMLElement) {\n  processControlled(element.tagName, $new.props);\n\n  const currentEntries = Object.entries($current.props);\n  const newEntries = Object.entries($new.props);\n\n  currentEntries.forEach(([key, currentValue]) => {\n    const newValue = $new.props[key];\n\n    if (\n      currentValue !== undefined\n      && (\n        newValue === undefined\n        || (currentValue !== newValue && key.startsWith('on'))\n      )\n    ) {\n      removeAttribute(element, key, currentValue);\n    }\n  });\n\n  newEntries.forEach(([key, newValue]) => {\n    const currentValue = $current.props[key];\n\n    if (newValue !== undefined && newValue !== currentValue) {\n      setAttribute(element, key, newValue);\n    }\n  });\n}\n\nfunction setAttribute(element: HTMLElement, key: string, value: any) {\n  // An optimization attempt\n  if (key === 'className') {\n    element.className = value;\n    // An optimization attempt\n  } else if (key === 'value') {\n    if ((element as HTMLInputElement).value !== value) {\n      (element as HTMLInputElement).value = value;\n    }\n  } else if (key === 'style') {\n    element.style.cssText = value;\n  } else if (key === 'dangerouslySetInnerHTML') {\n    // eslint-disable-next-line no-underscore-dangle\n    element.innerHTML = value.__html;\n  } else if (key.startsWith('on')) {\n    addEventListener(element, key, value, key.endsWith('Capture'));\n  } else if (key.startsWith('data-') || key.startsWith('aria-') || HTML_ATTRIBUTES.has(key)) {\n    element.setAttribute(key, value);\n  } else if (!FILTERED_ATTRIBUTES.has(key)) {\n    (element as any)[MAPPED_ATTRIBUTES[key] || key] = value;\n  }\n}\n\nfunction removeAttribute(element: HTMLElement, key: string, value: any) {\n  if (key === 'className') {\n    element.className = '';\n  } else if (key === 'value') {\n    (element as HTMLInputElement).value = '';\n  } else if (key === 'style') {\n    element.style.cssText = '';\n  } else if (key === 'dangerouslySetInnerHTML') {\n    element.innerHTML = '';\n  } else if (key.startsWith('on')) {\n    removeEventListener(element, key, value, key.endsWith('Capture'));\n  } else if (key.startsWith('data-') || key.startsWith('aria-') || HTML_ATTRIBUTES.has(key)) {\n    element.removeAttribute(key);\n  } else if (!FILTERED_ATTRIBUTES.has(key)) {\n    delete (element as any)[MAPPED_ATTRIBUTES[key] || key];\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction DEBUG_checkKeyUniqueness(children: VirtualElementChildren) {\n  const firstChild = children[0];\n  if (firstChild && 'props' in firstChild && firstChild.props.key !== undefined) {\n    const keys = children.reduce((acc: any[], child) => {\n      if ('props' in child && child.props.key) {\n        acc.push(child.props.key);\n      }\n\n      return acc;\n    }, []);\n\n    if (keys.length !== unique(keys).length) {\n      throw new Error('[Teact] Children keys are not unique');\n    }\n  }\n}\n\nconst TeactDOM = { render };\nexport default TeactDOM;\n","import type { ReactElement } from 'react';\nimport { DEBUG, DEBUG_MORE } from '../config';\nimport {\n  fastRaf, fastRafPrimary, onTickEnd, onTickEndPrimary, throttleWithPrimaryRaf, throttleWithRaf,\n} from '../util/schedulers';\nimport { orderBy } from '../util/iteratees';\nimport { getUnequalProps } from '../util/arePropsShallowEqual';\nimport { handleError } from '../util/handleError';\n\nexport type Props = AnyLiteral;\nexport type FC<P extends Props = any> = (props: P) => any;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport type FC_withDebug = FC & {\n  DEBUG_contentComponentName?: string;\n};\n\nexport enum VirtualElementTypesEnum {\n  Empty,\n  Text,\n  Tag,\n  Component,\n  Fragment,\n}\n\ninterface VirtualElementEmpty {\n  type: VirtualElementTypesEnum.Empty;\n  target?: Node;\n}\n\ninterface VirtualElementText {\n  type: VirtualElementTypesEnum.Text;\n  target?: Node;\n  value: string;\n}\n\nexport interface VirtualElementTag {\n  type: VirtualElementTypesEnum.Tag;\n  target?: Node;\n  tag: string;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\nexport interface VirtualElementComponent {\n  type: VirtualElementTypesEnum.Component;\n  componentInstance: ComponentInstance;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\nexport interface VirtualElementFragment {\n  type: VirtualElementTypesEnum.Fragment;\n  target?: Node;\n  children: VirtualElementChildren;\n}\n\nexport type StateHookSetter<T> = (newValue: ((current: T) => T) | T) => void;\n\ninterface ComponentInstance {\n  $element: VirtualElementComponent;\n  Component: FC;\n  name: string;\n  props: Props;\n  renderedValue?: any;\n  isMounted: boolean;\n  hooks: {\n    state: {\n      cursor: number;\n      byCursor: {\n        value: any;\n        nextValue: any;\n        setter: StateHookSetter<any>;\n      }[];\n    };\n    effects: {\n      cursor: number;\n      byCursor: {\n        effect: () => void;\n        dependencies?: readonly any[];\n        cleanup?: Function;\n      }[];\n    };\n    memos: {\n      cursor: number;\n      byCursor: {\n        value: any;\n        dependencies: any[];\n      }[];\n    };\n    refs: {\n      cursor: number;\n      byCursor: {\n        current: any;\n      }[];\n    };\n  };\n  prepareForFrame?: () => void;\n  forceUpdate?: () => void;\n  onUpdate?: () => void;\n}\n\nexport type VirtualElement =\n  VirtualElementEmpty\n  | VirtualElementText\n  | VirtualElementTag\n  | VirtualElementComponent\n  | VirtualElementFragment;\nexport type VirtualElementParent =\n  VirtualElementTag\n  | VirtualElementComponent\n  | VirtualElementFragment;\nexport type VirtualElementChildren = VirtualElement[];\nexport type VirtualElementReal = Exclude<VirtualElement, VirtualElementComponent | VirtualElementFragment>;\n\n// Compatibility with JSX types\nexport type TeactNode =\n  ReactElement\n  | string\n  | number\n  | boolean\n  | TeactNode[];\n\nconst Fragment = Symbol('Fragment');\n\nconst DEBUG_RENDER_THRESHOLD = 7;\nconst DEBUG_EFFECT_THRESHOLD = 7;\nconst DEBUG_SILENT_RENDERS_FOR = new Set(['TeactMemoWrapper', 'TeactNContainer', 'Button', 'ListItem', 'MenuItem']);\n\nlet renderingInstance: ComponentInstance;\n\nexport function isEmptyElement($element: VirtualElement): $element is VirtualElementEmpty {\n  return $element.type === VirtualElementTypesEnum.Empty;\n}\n\nexport function isTextElement($element: VirtualElement): $element is VirtualElementText {\n  return $element.type === VirtualElementTypesEnum.Text;\n}\n\nexport function isTagElement($element: VirtualElement): $element is VirtualElementTag {\n  return $element.type === VirtualElementTypesEnum.Tag;\n}\n\nexport function isComponentElement($element: VirtualElement): $element is VirtualElementComponent {\n  return $element.type === VirtualElementTypesEnum.Component;\n}\n\nexport function isFragmentElement($element: VirtualElement): $element is VirtualElementFragment {\n  return $element.type === VirtualElementTypesEnum.Fragment;\n}\n\nexport function isParentElement($element: VirtualElement): $element is VirtualElementParent {\n  return isTagElement($element) || isComponentElement($element) || isFragmentElement($element);\n}\n\nfunction createElement(\n  source: string | FC | typeof Fragment,\n  props: Props,\n  ...children: any[]\n): VirtualElementParent | VirtualElementChildren {\n  children = children.flat();\n\n  if (source === Fragment) {\n    return buildFragmentElement(children);\n  } else if (typeof source === 'function') {\n    return createComponentInstance(source, props || {}, children);\n  } else {\n    return buildTagElement(source, props || {}, children);\n  }\n}\n\nfunction buildFragmentElement(children: any[]): VirtualElementFragment {\n  return {\n    type: VirtualElementTypesEnum.Fragment,\n    children: dropEmptyTail(children, true).map(buildChildElement),\n  };\n}\n\nfunction createComponentInstance(Component: FC, props: Props, children: any[]): VirtualElementComponent {\n  let parsedChildren: any | any[] | undefined;\n  if (children.length === 0) {\n    parsedChildren = undefined;\n  } else if (children.length === 1) {\n    [parsedChildren] = children;\n  } else {\n    parsedChildren = children;\n  }\n\n  const componentInstance: ComponentInstance = {\n    $element: {} as VirtualElementComponent,\n    Component,\n    name: Component.name,\n    props: {\n      ...props,\n      ...(parsedChildren && { children: parsedChildren }),\n    },\n    isMounted: false,\n    hooks: {\n      state: {\n        cursor: 0,\n        byCursor: [],\n      },\n      effects: {\n        cursor: 0,\n        byCursor: [],\n      },\n      memos: {\n        cursor: 0,\n        byCursor: [],\n      },\n      refs: {\n        cursor: 0,\n        byCursor: [],\n      },\n    },\n  };\n\n  componentInstance.$element = buildComponentElement(componentInstance);\n\n  return componentInstance.$element;\n}\n\nfunction buildComponentElement(\n  componentInstance: ComponentInstance,\n  children: VirtualElementChildren = [],\n): VirtualElementComponent {\n  return {\n    type: VirtualElementTypesEnum.Component,\n    componentInstance,\n    props: componentInstance.props,\n    children: dropEmptyTail(children, true).map(buildChildElement),\n  };\n}\n\nfunction buildTagElement(tag: string, props: Props, children: any[]): VirtualElementTag {\n  return {\n    type: VirtualElementTypesEnum.Tag,\n    tag,\n    props,\n    children: dropEmptyTail(children).map(buildChildElement),\n  };\n}\n\n// We only need placeholders in the middle of collection (to ensure other elements order).\nfunction dropEmptyTail(children: any[], noEmpty = false) {\n  let i = children.length - 1;\n\n  for (; i >= 0; i--) {\n    if (!isEmptyPlaceholder(children[i])) {\n      break;\n    }\n  }\n\n  if (i === children.length - 1) {\n    return children;\n  }\n\n  if (i === -1 && noEmpty) {\n    return children.slice(0, 1);\n  }\n\n  return children.slice(0, i + 1);\n}\n\nfunction isEmptyPlaceholder(child: any) {\n  // eslint-disable-next-line no-null/no-null\n  return child === false || child === null || child === undefined;\n}\n\nfunction buildChildElement(child: any): VirtualElement {\n  if (isEmptyPlaceholder(child)) {\n    return buildEmptyElement();\n  } else if (isParentElement(child)) {\n    return child;\n  } else {\n    return buildTextElement(child);\n  }\n}\n\nfunction buildTextElement(value: any): VirtualElementText {\n  return {\n    type: VirtualElementTypesEnum.Text,\n    value: String(value),\n  };\n}\n\nfunction buildEmptyElement(): VirtualElementEmpty {\n  return { type: VirtualElementTypesEnum.Empty };\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_components: AnyLiteral = {};\n\ndocument.addEventListener('dblclick', () => {\n  // eslint-disable-next-line no-console\n  console.warn('COMPONENTS', orderBy(Object.values(DEBUG_components), 'renderCount', 'desc'));\n});\n\nexport function renderComponent(componentInstance: ComponentInstance) {\n  renderingInstance = componentInstance;\n  componentInstance.hooks.state.cursor = 0;\n  componentInstance.hooks.effects.cursor = 0;\n  componentInstance.hooks.memos.cursor = 0;\n  componentInstance.hooks.refs.cursor = 0;\n\n  const { Component, props } = componentInstance;\n  let newRenderedValue;\n\n  try {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_startAt: number | undefined;\n    if (DEBUG) {\n      const componentName = componentInstance.name;\n      if (!DEBUG_components[componentName]) {\n        DEBUG_components[componentName] = {\n          componentName,\n          renderCount: 0,\n          renderTimes: [],\n        };\n      }\n\n      if (DEBUG_MORE) {\n        if (!DEBUG_SILENT_RENDERS_FOR.has(componentName)) {\n          // eslint-disable-next-line no-console\n          console.log(`[Teact] Render ${componentName}`);\n        }\n      }\n\n      DEBUG_startAt = performance.now();\n    }\n\n    newRenderedValue = Component(props);\n\n    if (DEBUG) {\n      const duration = performance.now() - DEBUG_startAt!;\n      const componentName = componentInstance.name;\n      if (duration > DEBUG_RENDER_THRESHOLD) {\n        // eslint-disable-next-line no-console\n        console.warn(`[Teact] Slow component render: ${componentName}, ${Math.round(duration)} ms`);\n      }\n      DEBUG_components[componentName].renderTimes.push(duration);\n      DEBUG_components[componentName].renderCount++;\n    }\n  } catch (err: any) {\n    handleError(err);\n\n    newRenderedValue = componentInstance.renderedValue;\n  }\n\n  if (componentInstance.isMounted && newRenderedValue === componentInstance.renderedValue) {\n    return componentInstance.$element;\n  }\n\n  componentInstance.renderedValue = newRenderedValue;\n\n  const children = Array.isArray(newRenderedValue) ? newRenderedValue : [newRenderedValue];\n  componentInstance.$element = buildComponentElement(componentInstance, children);\n\n  return componentInstance.$element;\n}\n\nexport function hasElementChanged($old: VirtualElement, $new: VirtualElement) {\n  if (typeof $old !== typeof $new) {\n    return true;\n  } else if ($old.type !== $new.type) {\n    return true;\n  } else if (isTextElement($old) && isTextElement($new)) {\n    return $old.value !== $new.value;\n  } else if (isTagElement($old) && isTagElement($new)) {\n    return ($old.tag !== $new.tag) || ($old.props.key !== $new.props.key);\n  } else if (isComponentElement($old) && isComponentElement($new)) {\n    return (\n      $old.componentInstance.Component !== $new.componentInstance.Component\n    ) || (\n      $old.props.key !== $new.props.key\n    );\n  }\n\n  return false;\n}\n\nexport function mountComponent(componentInstance: ComponentInstance) {\n  renderComponent(componentInstance);\n  componentInstance.isMounted = true;\n  return componentInstance.$element;\n}\n\nexport function unmountComponent(componentInstance: ComponentInstance) {\n  if (!componentInstance.isMounted) {\n    return;\n  }\n\n  componentInstance.hooks.effects.byCursor.forEach((effect) => {\n    if (effect.cleanup) {\n      try {\n        effect.cleanup();\n      } catch (err: any) {\n        handleError(err);\n      } finally {\n        effect.cleanup = undefined;\n      }\n    }\n  });\n\n  componentInstance.isMounted = false;\n\n  helpGc(componentInstance);\n}\n\n// We need to remove all references to DOM objects. We also clean all other references, just in case\nfunction helpGc(componentInstance: ComponentInstance) {\n  componentInstance.hooks.effects.byCursor.forEach((hook) => {\n    hook.cleanup = undefined;\n    hook.effect = undefined as any;\n    hook.dependencies = undefined;\n  });\n\n  componentInstance.hooks.state.byCursor.forEach((hook) => {\n    hook.value = undefined;\n    hook.nextValue = undefined;\n    hook.setter = undefined as any;\n  });\n\n  componentInstance.hooks.memos.byCursor.forEach((hook) => {\n    hook.value = undefined as any;\n    hook.dependencies = undefined as any;\n  });\n\n  componentInstance.hooks.refs.byCursor.forEach((hook) => {\n    hook.current = undefined as any;\n  });\n\n  componentInstance.hooks = undefined as any;\n  componentInstance.$element = undefined as any;\n  componentInstance.renderedValue = undefined;\n  componentInstance.Component = undefined as any;\n  componentInstance.props = undefined as any;\n  componentInstance.forceUpdate = undefined;\n  componentInstance.onUpdate = undefined;\n}\n\nfunction prepareComponentForFrame(componentInstance: ComponentInstance) {\n  if (!componentInstance.isMounted) {\n    return;\n  }\n\n  componentInstance.hooks.state.byCursor.forEach((hook) => {\n    hook.value = hook.nextValue;\n  });\n\n  componentInstance.prepareForFrame = throttleWithPrimaryRaf(() => prepareComponentForFrame(componentInstance));\n  componentInstance.forceUpdate = throttleWithRaf(() => forceUpdateComponent(componentInstance));\n}\n\nfunction forceUpdateComponent(componentInstance: ComponentInstance) {\n  if (!componentInstance.isMounted || !componentInstance.onUpdate) {\n    return;\n  }\n\n  const currentElement = componentInstance.$element;\n\n  renderComponent(componentInstance);\n\n  if (componentInstance.$element !== currentElement) {\n    componentInstance.onUpdate();\n  }\n}\n\nexport function useState<T>(initial?: T, debugKey?: string): [T, StateHookSetter<T>] {\n  const { cursor, byCursor } = renderingInstance.hooks.state;\n\n  if (byCursor[cursor] === undefined) {\n    byCursor[cursor] = {\n      value: initial,\n      nextValue: initial,\n      setter: ((componentInstance) => (newValue: ((current: T) => T) | T) => {\n        if (byCursor[cursor].nextValue !== newValue) {\n          byCursor[cursor].nextValue = typeof newValue === 'function'\n            ? (newValue as (current: T) => T)(byCursor[cursor].value)\n            : newValue;\n\n          if (!componentInstance.prepareForFrame || !componentInstance.forceUpdate) {\n            componentInstance.prepareForFrame = throttleWithPrimaryRaf(\n              () => prepareComponentForFrame(componentInstance),\n            );\n            componentInstance.forceUpdate = throttleWithRaf(\n              () => forceUpdateComponent(componentInstance),\n            );\n          }\n\n          componentInstance.prepareForFrame();\n          componentInstance.forceUpdate();\n\n          if (DEBUG_MORE) {\n            if (componentInstance.name !== 'TeactNContainer') {\n              // eslint-disable-next-line no-console\n              console.log(\n                '[Teact.useState]',\n                componentInstance.name,\n                // `componentInstance.Component` may be set to `null` by GC helper\n                componentInstance.Component && (componentInstance.Component as FC_withDebug).DEBUG_contentComponentName\n                  ? `> ${(componentInstance.Component as FC_withDebug).DEBUG_contentComponentName}`\n                  : '',\n                debugKey\n                  ? `State update for ${debugKey}, next value: `\n                  : `State update at cursor #${cursor}, next value: `,\n                byCursor[cursor].nextValue,\n              );\n            }\n          }\n        }\n      })(renderingInstance),\n    };\n  }\n\n  renderingInstance.hooks.state.cursor++;\n\n  return [\n    byCursor[cursor].value,\n    byCursor[cursor].setter,\n  ];\n}\n\nfunction useLayoutEffectBase(\n  schedulerFn: typeof onTickEnd | typeof requestAnimationFrame,\n  primarySchedulerFn: typeof onTickEnd | typeof requestAnimationFrame,\n  effect: () => Function | void,\n  dependencies?: readonly any[],\n  debugKey?: string,\n) {\n  const { cursor, byCursor } = renderingInstance.hooks.effects;\n  const componentInstance = renderingInstance;\n\n  function execCleanup() {\n    if (!componentInstance.isMounted) {\n      return;\n    }\n\n    const { cleanup } = byCursor[cursor];\n    if (!cleanup) {\n      return;\n    }\n\n    try {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      let DEBUG_startAt: number | undefined;\n      if (DEBUG) {\n        DEBUG_startAt = performance.now();\n      }\n\n      cleanup();\n\n      if (DEBUG) {\n        const duration = performance.now() - DEBUG_startAt!;\n        const componentName = componentInstance.name;\n        if (duration > DEBUG_EFFECT_THRESHOLD) {\n          // eslint-disable-next-line no-console\n          console.warn(\n            `[Teact] Slow cleanup at effect cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`,\n          );\n        }\n      }\n    } catch (err: any) {\n      handleError(err);\n    } finally {\n      byCursor[cursor].cleanup = undefined;\n    }\n  }\n\n  function exec() {\n    if (!componentInstance.isMounted) {\n      return;\n    }\n\n    execCleanup();\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_startAt: number | undefined;\n    if (DEBUG) {\n      DEBUG_startAt = performance.now();\n    }\n\n    const result = effect();\n    if (typeof result === 'function') {\n      byCursor[cursor].cleanup = result;\n    }\n\n    if (DEBUG) {\n      const duration = performance.now() - DEBUG_startAt!;\n      const componentName = componentInstance.name;\n      if (duration > DEBUG_EFFECT_THRESHOLD) {\n        // eslint-disable-next-line no-console\n        console.warn(`[Teact] Slow effect at cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);\n      }\n    }\n  }\n\n  if (byCursor[cursor] !== undefined && dependencies && byCursor[cursor].dependencies) {\n    if (dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies![i])) {\n      if (debugKey) {\n        const causedBy = dependencies.reduce((res, newValue, i) => {\n          const prevValue = byCursor[cursor].dependencies![i];\n          if (newValue !== prevValue) {\n            res.push(`${i}: ${prevValue} => ${newValue}`);\n          }\n\n          return res;\n        }, []);\n\n        // eslint-disable-next-line no-console\n        console.log(`[Teact] Effect \"${debugKey}\" caused by dependencies.`, causedBy.join(', '));\n      }\n\n      primarySchedulerFn(execCleanup);\n      schedulerFn(exec);\n    }\n  } else {\n    if (debugKey) {\n      // eslint-disable-next-line no-console\n      console.log(`[Teact] Effect \"${debugKey}\" caused by missing dependencies.`);\n    }\n\n    primarySchedulerFn(execCleanup);\n    schedulerFn(exec);\n  }\n\n  byCursor[cursor] = {\n    effect,\n    dependencies,\n    cleanup: byCursor[cursor]?.cleanup,\n  };\n\n  renderingInstance.hooks.effects.cursor++;\n}\n\nexport function useEffect(effect: () => Function | void, dependencies?: readonly any[], debugKey?: string) {\n  return useLayoutEffectBase(fastRaf, fastRafPrimary, effect, dependencies, debugKey);\n}\n\nexport function useLayoutEffect(effect: () => Function | void, dependencies?: readonly any[], debugKey?: string) {\n  return useLayoutEffectBase(onTickEnd, onTickEndPrimary, effect, dependencies, debugKey);\n}\n\nexport function useMemo<T extends any>(resolver: () => T, dependencies: any[], debugKey?: string): T {\n  const { cursor, byCursor } = renderingInstance.hooks.memos;\n  let { value } = byCursor[cursor] || {};\n\n  if (\n    byCursor[cursor] === undefined\n    || dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])\n  ) {\n    if (DEBUG && debugKey) {\n      // eslint-disable-next-line no-console\n      console.log(\n        `[Teact.useMemo] ${renderingInstance.name} (${debugKey}): Update is caused by:`,\n        byCursor[cursor]\n          ? getUnequalProps(dependencies, byCursor[cursor].dependencies).join(', ')\n          : '[first render]',\n      );\n    }\n\n    value = resolver();\n  }\n\n  byCursor[cursor] = {\n    value,\n    dependencies,\n  };\n\n  renderingInstance.hooks.memos.cursor++;\n\n  return value;\n}\n\nexport function useCallback<F extends AnyFunction>(newCallback: F, dependencies: any[], debugKey?: string): F {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => newCallback, dependencies, debugKey);\n}\n\nexport function useRef<T>(initial: T): { current: T };\nexport function useRef<T>(): { current: T | undefined }; // TT way (empty is `undefined`)\nexport function useRef<T>(initial: null): { current: T | null }; // React way (empty is `null`)\n// eslint-disable-next-line no-null/no-null\nexport function useRef<T>(initial?: T | null) {\n  const { cursor, byCursor } = renderingInstance.hooks.refs;\n  if (!byCursor[cursor]) {\n    byCursor[cursor] = {\n      current: initial,\n    };\n  }\n\n  renderingInstance.hooks.refs.cursor++;\n\n  return byCursor[cursor];\n}\n\nexport function memo<T extends FC>(Component: T, debugKey?: string) {\n  return function TeactMemoWrapper(props: Props) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return useMemo(() => createElement(Component, props), Object.values(props), debugKey);\n  } as T;\n}\n\nexport default {\n  createElement,\n  Fragment,\n};\n","export default function arePropsShallowEqual(currentProps: AnyLiteral, newProps: AnyLiteral) {\n  if (currentProps === newProps) {\n    return true;\n  }\n\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    return false;\n  }\n\n  if (currentKeysLength === 0) {\n    return true;\n  }\n\n  for (let i = 0; i < currentKeysLength; i++) {\n    const prop = currentKeys[i];\n    if (currentProps[prop] !== newProps[prop]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function getUnequalProps(currentProps: AnyLiteral, newProps: AnyLiteral) {\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    return ['%LENGTH%'];\n  }\n\n  return currentKeys.reduce((res, prop) => {\n    if (currentProps[prop] !== newProps[prop]) {\n      res.push(`${prop}: ${currentProps[prop]} => ${newProps[prop]}`);\n    }\n\n    return res;\n  }, [] as string[]);\n}\n","export default (store: AnyLiteral) => {\n  let id;\n\n  do {\n    id = String(Math.random()).replace('0.', 'id');\n  } while (store.hasOwnProperty(id));\n\n  return id;\n};\n","window.addEventListener('error', handleErrorEvent);\nwindow.addEventListener('unhandledrejection', handleErrorEvent);\n\nfunction handleErrorEvent(e: ErrorEvent | PromiseRejectionEvent) {\n  e.preventDefault();\n\n  handleError(e instanceof ErrorEvent ? e.error : e.reason);\n}\n\nexport function handleError(err: Error) {\n  // eslint-disable-next-line no-console\n  console.error(err);\n}\n","type OrderDirection =\n  'asc'\n  | 'desc';\n\ninterface OrderCallback<T> {\n  (member: T): any;\n}\n\nexport function orderBy<T>(\n  collection: T[],\n  orderRule: (keyof T) | OrderCallback<T> | ((keyof T) | OrderCallback<T>)[],\n  mode: OrderDirection | [OrderDirection, OrderDirection] = 'asc',\n): T[] {\n  function compareValues(a: T, b: T, currentOrderRule: (keyof T) | OrderCallback<T>, isAsc: boolean) {\n    const aValue = (typeof currentOrderRule === 'function' ? currentOrderRule(a) : a[currentOrderRule]) || 0;\n    const bValue = (typeof currentOrderRule === 'function' ? currentOrderRule(b) : b[currentOrderRule]) || 0;\n\n    return isAsc ? aValue - bValue : bValue - aValue;\n  }\n\n  if (Array.isArray(orderRule)) {\n    const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];\n    const [orderRule1, orderRule2] = orderRule;\n    const isAsc1 = mode1 === 'asc';\n    const isAsc2 = mode2 === 'asc';\n\n    return collection.sort((a, b) => {\n      return compareValues(a, b, orderRule1, isAsc1) || compareValues(a, b, orderRule2, isAsc2);\n    });\n  }\n\n  const isAsc = mode === 'asc';\n  return collection.sort((a, b) => {\n    return compareValues(a, b, orderRule, isAsc);\n  });\n}\n\nexport function unique<T extends any>(array: T[]): T[] {\n  return Array.from(new Set(array));\n}\n","type Scheduler =\n  typeof requestAnimationFrame\n  | typeof onTickEnd;\n\nexport function throttleWithRaf<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith(fastRaf, fn);\n}\n\nexport function throttleWithPrimaryRaf<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith(fastRafPrimary, fn);\n}\n\nexport function throttleWithTickEnd<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith(onTickEnd, fn);\n}\n\nexport function throttleWith<F extends AnyToVoidFunction>(schedulerFn: Scheduler, fn: F) {\n  let waiting = false;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    args = _args;\n\n    if (!waiting) {\n      waiting = true;\n\n      schedulerFn(() => {\n        waiting = false;\n        fn(...args);\n      });\n    }\n  };\n}\n\nlet fastRafCallbacks: NoneToVoidFunction[] | undefined;\nlet fastRafPrimaryCallbacks: NoneToVoidFunction[] | undefined;\n\n// May result in an immediate execution if called from another `requestAnimationFrame` callback\nexport function fastRaf(callback: NoneToVoidFunction, isPrimary = false) {\n  if (!fastRafCallbacks) {\n    fastRafCallbacks = isPrimary ? [] : [callback];\n    fastRafPrimaryCallbacks = isPrimary ? [callback] : [];\n\n    requestAnimationFrame(() => {\n      const currentCallbacks = fastRafCallbacks!;\n      const currentPrimaryCallbacks = fastRafPrimaryCallbacks!;\n      fastRafCallbacks = undefined;\n      fastRafPrimaryCallbacks = undefined;\n      currentPrimaryCallbacks.forEach((cb) => cb());\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else if (isPrimary) {\n    fastRafPrimaryCallbacks!.push(callback);\n  } else {\n    fastRafCallbacks.push(callback);\n  }\n}\n\nexport function fastRafPrimary(callback: NoneToVoidFunction) {\n  fastRaf(callback, true);\n}\n\nlet onTickEndCallbacks: NoneToVoidFunction[] | undefined;\nlet onTickEndPrimaryCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onTickEnd(callback: NoneToVoidFunction, isPrimary = false) {\n  if (!onTickEndCallbacks) {\n    onTickEndCallbacks = isPrimary ? [] : [callback];\n    onTickEndPrimaryCallbacks = isPrimary ? [callback] : [];\n\n    Promise.resolve().then(() => {\n      const currentCallbacks = onTickEndCallbacks!;\n      const currentPrimaryCallbacks = onTickEndPrimaryCallbacks!;\n      onTickEndCallbacks = undefined;\n      onTickEndPrimaryCallbacks = undefined;\n      currentPrimaryCallbacks.forEach((cb) => cb());\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else if (isPrimary) {\n    onTickEndPrimaryCallbacks!.push(callback);\n  } else {\n    onTickEndCallbacks.push(callback);\n  }\n}\n\nexport function onTickEndPrimary(callback: NoneToVoidFunction) {\n  onTickEnd(callback, true);\n}\n\nlet beforeUnloadCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onBeforeUnload(callback: NoneToVoidFunction, isLast = false) {\n  if (!beforeUnloadCallbacks) {\n    beforeUnloadCallbacks = [];\n    // eslint-disable-next-line no-restricted-globals\n    self.addEventListener('beforeunload', () => {\n      beforeUnloadCallbacks!.forEach((cb) => cb());\n    });\n  }\n\n  if (isLast) {\n    beforeUnloadCallbacks.push(callback);\n  } else {\n    beforeUnloadCallbacks.unshift(callback);\n  }\n\n  return () => {\n    beforeUnloadCallbacks = beforeUnloadCallbacks!.filter((cb) => cb !== callback);\n  };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState } from '../src/teact/teact';\nimport TeactDOM from '../src/teact/teact-dom';\n\nTeactDOM.render(\n  <App />,\n  document.getElementById('root')!,\n);\n\nfunction App() {\n  return (\n    <div>\n      <h2>Hello Teact!</h2>\n\n      <Child />\n      <Checkbox />\n    </div>\n  );\n}\n\nfunction Child() {\n  return (\n    <div>\n      This is your first component.\n    </div>\n  );\n}\n\nfunction Checkbox() {\n  const [isChecked, setIsChecked] = useState(true);\n\n  function handleCheck() {\n    setIsChecked((current) => !current);\n  }\n\n  return (\n    <label>\n      <input type=\"checkbox\" checked={isChecked} onChange={handleCheck} />\n      This is a controlled form element.\n    </label>\n  );\n}\n"],"names":["DEBUG","DEBUG_MORE","NON_BUBBLEABLE_EVENTS","Set","documentEventCounters","delegationRegistryByEventType","delegatedEventTypesByElement","Map","addEventListener","element","propName","handler","asCapture","eventType","resolveEventType","canUseEventDelegation","addDelegatedListener","removeEventListener","removeDelegatedListener","replace","toLowerCase","tagName","realEventType","has","document","handleEvent","resolveDelegationRegistry","set","resolveDelegatedEventTypes","add","get","removeAllDelegatedListeners","eventTypes","forEach","realEvent","events","type","furtherCallsPrevented","current","target","stopPropagation","preventDefault","event","Proxy","p","Reflect","body","parentNode","existing","newSet","documentListenersCount","Object","keys","length","delegatedHandlersCount1","values","reduce","acc","counter","delegationRegistriesCount","delegatedHandlersCount2","delegationRegistry","size","delegationElementsCount","delegatedEventTypesCount","Array","from","console","warn","hasElementChanged","isComponentElement","isTagElement","isParentElement","isTextElement","isEmptyElement","mountComponent","renderComponent","unmountComponent","isFragmentElement","generateIdFor","unique","FILTERED_ATTRIBUTES","HTML_ATTRIBUTES","CONTROLLABLE_TAGS","MAPPED_ATTRIBUTES","autoPlay","autoComplete","INDEX_KEY_PREFIX","headsByElement","render","$element","parentEl","headId","getAttribute","children","setAttribute","$head","$newElement","renderWithVirtual","undefined","$current","$new","$parent","index","options","skipComponentUpdate","fragment","nextSibling","isCurrentComponent","isNewComponent","$newAsReal","isCurrentFragment","isNewFragment","updateComponent","componentInstance","isMounted","setupComponentUpdateListener","newTarget","Error","initComponent","mountChildren","node","createNode","insertBefore","remount","getNextSibling","isComponent","isFragment","renderChildren","$currentAsReal","currentTarget","isTag","$newAsTag","props","ref","updateAttributes","$firstChild","onUpdate","map","$child","i","unmountChildren","createTextNode","value","tag","createElement","processControlled","entries","key","processUncontrolledOnMount","componentNextSibling","replaceChild","removeChild","unmountRealTree","appendChild","lastChild","currentEl","DEBUG_checkKeyUniqueness","teactFastList","renderFastListChildren","currentChildrenLength","newChildrenLength","maxLength","Math","max","newChildren","createDocumentFragment","lastCurrentChild","fragmentNextSibling","$newChild","push","newKeys","currentRemainingIndex","remainingByKey","$currentChild","isKeyPresent","newChildKey","orderKey","teactOrderKey","fragmentElements","fragmentIndex","currentPreservedIndex","currentChildInfo","concat","renderFragment","newOrderKey","shouldMoveNode","isMovingDown","childNodes","elements","isValueControlled","isCheckedControlled","checked","isControlled","includes","toUpperCase","onInput","onChange","e","defaultValue","defaultChecked","currentEntries","newEntries","currentValue","newValue","startsWith","removeAttribute","className","style","cssText","innerHTML","__html","endsWith","firstChild","child","TeactDOM","fastRaf","fastRafPrimary","onTickEnd","onTickEndPrimary","throttleWithPrimaryRaf","throttleWithRaf","orderBy","getUnequalProps","handleError","VirtualElementTypesEnum","Fragment","Symbol","DEBUG_RENDER_THRESHOLD","DEBUG_EFFECT_THRESHOLD","DEBUG_SILENT_RENDERS_FOR","renderingInstance","Empty","Text","Tag","Component","source","flat","buildFragmentElement","createComponentInstance","buildTagElement","dropEmptyTail","buildChildElement","parsedChildren","name","hooks","state","cursor","byCursor","effects","memos","refs","buildComponentElement","noEmpty","isEmptyPlaceholder","slice","buildEmptyElement","buildTextElement","String","DEBUG_components","newRenderedValue","DEBUG_startAt","componentName","renderCount","renderTimes","log","performance","now","duration","round","err","renderedValue","isArray","$old","effect","cleanup","helpGc","hook","dependencies","nextValue","setter","forceUpdate","prepareComponentForFrame","prepareForFrame","forceUpdateComponent","currentElement","useState","initial","debugKey","DEBUG_contentComponentName","useLayoutEffectBase","schedulerFn","primarySchedulerFn","execCleanup","exec","result","some","dependency","causedBy","res","prevValue","join","useEffect","useLayoutEffect","useMemo","resolver","useCallback","newCallback","useRef","memo","TeactMemoWrapper","arePropsShallowEqual","currentProps","newProps","currentKeys","currentKeysLength","newKeysLength","prop","store","id","random","hasOwnProperty","window","handleErrorEvent","ErrorEvent","error","reason","collection","orderRule","mode","compareValues","a","b","currentOrderRule","isAsc","aValue","bValue","mode1","mode2","orderRule1","orderRule2","isAsc1","isAsc2","sort","array","fn","throttleWith","throttleWithTickEnd","waiting","args","_args","fastRafCallbacks","fastRafPrimaryCallbacks","callback","isPrimary","requestAnimationFrame","currentCallbacks","currentPrimaryCallbacks","cb","onTickEndCallbacks","onTickEndPrimaryCallbacks","Promise","resolve","then","beforeUnloadCallbacks","onBeforeUnload","isLast","self","unshift","filter","React","getElementById","App","Child","Checkbox","isChecked","setIsChecked","handleCheck"],"sourceRoot":""}